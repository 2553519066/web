import{d as e,b as a,_ as t,e as s,B as l,c as o,o as n,i as r,w as d,f as c,l as i,n as u,t as _,h as f,C as m,j as p,F as y,s as g,D as h,A as x,u as b,y as k,r as w,E as v,v as C,a as P,G as A,H as z,g as S}from"./index-GbXCx2Zj.js";import{o as B,l as I}from"./orders.DJuNOKoI.js";const R=b(e({__name:"index",props:{islot:{type:Boolean,default:!1},list:{default:[]},ToPath:{default:""},title:{default:"我是标题"},ismore:{type:Boolean,default:!0},nextPage:{default:""}},emits:{},setup(e,{emit:b}){const k=b;return(e,b)=>{const w=r,v=a(s("up-icon"),t),C=a(s("up-image"),l);return n(),o(w,{class:"myorder"},{default:d(()=>[c(w,{class:"myorder_head"},{default:d(()=>[c(w,{class:"bold"},{default:d(()=>[u(_(e.title),1)]),_:1}),e.ismore?(n(),o(w,{key:0,class:"flex",onClick:b[0]||(b[0]=a=>{var t;(t=e.nextPage)&&g({url:t})})},{default:d(()=>[u(" 更多 "),c(v,{name:"arrow-right",color:"#919191",size:"13"})]),_:1})):i("",!0)]),_:1}),c(w,{class:"myorder_items"},{default:d(()=>[e.islot?m(e.$slots,"default",{key:1},void 0,!0):(n(!0),f(y,{key:0},p(e.list,(e,a)=>(n(),o(w,{class:"myorder_list",key:a,onClick:a=>function(e){k("change",e);const a=e&&e.path;if(!a)return;/^https?:\/\//i.test(a)?h({title:"提示",content:"即将打开外部链接，是否继续？",success(e){e.confirm&&("undefined"!=typeof window?window.open(a,"_blank"):x({title:"当前环境暂不支持打开外部链接",icon:"none"}))}}):g({url:a})}(e)},{default:d(()=>[c(w,{class:"flexconter"},{default:d(()=>[c(C,{src:e.img,mode:"aspectFit",height:"40rpx","lazy-load":!0,width:"40rpx"},null,8,["src"]),e.value?(n(),o(w,{key:0,class:"myorder_list_top"},{default:d(()=>[u(_(e.value),1)]),_:2},1024)):i("",!0)]),_:2},1024),c(w,{class:"ynase"},{default:d(()=>[u(_(e.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:3})]),_:3})}}}),[["__scopeId","data-v-9ed71d29"]]),j=b(e({__name:"index",props:{order:{}},emits:["click"],setup(e,{emit:t}){const l=e,i=t,f=()=>{i("click",l.order)};return(e,t)=>{const l=r,i=a(s("up-button"),k);return n(),o(l,{class:"order_item",onClick:f},{default:d(()=>[c(l,{class:"order_header"},{default:d(()=>[c(l,{class:"order_code"},{default:d(()=>[u("订单编号："+_(e.order.code),1)]),_:1}),c(l,{class:"order_date"},{default:d(()=>[u("账期："+_(e.order.nextDueDate),1)]),_:1})]),_:1}),c(l,{class:"order_content"},{default:d(()=>[c(l,{class:"order_info"},{default:d(()=>[c(l,{class:"info_tag"},{default:d(()=>[u(_(e.order.brand),1)]),_:1}),c(l,{class:"info_tag"},{default:d(()=>[u(_(e.order.model),1)]),_:1}),c(l,{class:"info_tag"},{default:d(()=>[u(_(e.order.storage),1)]),_:1})]),_:1}),c(l,{class:"order_action"},{default:d(()=>[c(i,{type:"primary",size:"small",text:e.order.needPay?"待支付":"identity"===e.order.action?"上传身份资料":"contract"===e.order.action?"上传合同":"repay"===e.order.action?"还款":"earlyRepay"===e.order.action?"提前还款":"defer"===e.order.action?"申请延期":"dailyRent"===e.order.action?"日租续用":"风控材料",customStyle:{fontSize:"24rpx",padding:"10rpx 20rpx",height:"auto"},onClick:f},null,8,["text"])]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-d13bf618"]]),D="/static/tabs/settle.png",F=b(e({__name:"index",setup(e){const m=w(!1),h=v([...B]),x=C(()=>[{name:"待支付",icon:"clock",count:h.filter(e=>e.needPay).length,code:"2"},{name:"待审核",icon:"file-text",count:h.filter(e=>e.needUpload).length,code:"3"},{name:"待收货",icon:"shopping-cart",count:h.filter(e=>!e.needPay&&!e.needUpload&&"repay"!==e.action&&"earlyRepay"!==e.action).length,code:"5"},{name:"交易完成",icon:"checkmark-circle",count:h.filter(e=>"repay"===e.action||"earlyRepay"===e.action).length,code:"9"},{name:"我的售后",icon:"reload",count:h.filter(e=>"defer"===e.action||"dailyRent"===e.action).length,code:"6"}]),b=v([{name:"进入后台",img:D,path:"https://www.baidu.com"},{name:"商户入驻",img:D,path:"/pages/saleApp/home/index"},{name:"审核资料",img:D,path:"/subPage/mallSys/my/information/index"}]);function k(){g({url:"/subPage/mallSys/my/order/index?type=0"})}function F(e){}function K(e){console.log(e,"avatar")}function E(){g({url:"/subPage/mallSys/my/setup/index"})}return(e,h)=>{const w=a(s("up-image"),l),v=A,C=r,B=a(s("up-icon"),t),D=S,G=P("head-top");return n(),o(G,{loading:m.value,is_footer_mar:!1},{default:d(()=>[c(C,{class:"my_container"},{default:d(()=>[c(C,{class:"user_header"},{default:d(()=>[c(C,{class:"user_info"},{default:d(()=>[c(v,{class:"avatar-wrapper","open-type":"chooseAvatar",onChooseavatar:K},{default:d(()=>[c(w,{src:"https://doc-fd.zol-img.com.cn/t_s2000x2000/g7/M00/02/04/ChMkLGYh-V6IfKVlAAK_hwBPBrwAAdKJQHIOOEAAr-f792.jpg",radius:"50%",height:"120rpx","lazy-load":!0,width:"120rpx"})]),_:1}),c(C,{class:"user_details"},{default:d(()=>[c(C,{class:"user_score"},{default:d(()=>[u("345")]),_:1}),c(C,{class:"user_welcome"},{default:d(()=>[u("欢迎回来")]),_:1})]),_:1})]),_:1}),c(C,{class:"settings-icon",onClick:E},{default:d(()=>[c(B,{name:"setting",color:"#fff",size:"24"})]),_:1})]),_:1}),c(C,{class:"account_analysis"},{default:d(()=>[c(C,{class:"analysis_title"},{default:d(()=>[u("个人账单分析")]),_:1}),c(C,{class:"analysis_stats"},{default:d(()=>[c(C,{class:"stat_item"},{default:d(()=>[c(C,{class:"stat_label"},{default:d(()=>[u("已还期数")]),_:1}),c(C,{class:"stat_value"},{default:d(()=>[u("33 期")]),_:1})]),_:1}),c(C,{class:"stat_item"},{default:d(()=>[c(C,{class:"stat_label"},{default:d(()=>[u("待还期数")]),_:1}),c(C,{class:"stat_value"},{default:d(()=>[u("0 期")]),_:1})]),_:1}),c(C,{class:"stat_item"},{default:d(()=>[c(C,{class:"stat_label"},{default:d(()=>[u("违约金")]),_:1}),c(C,{class:"stat_value"},{default:d(()=>[u("¥25081.09")]),_:1})]),_:1})]),_:1})]),_:1}),c(C,{class:"my_orders_section"},{default:d(()=>[c(C,{class:"section_header"},{default:d(()=>[c(C,{class:"section_title"},{default:d(()=>[u("我的订单")]),_:1}),c(C,{class:"view_all",onClick:k},{default:d(()=>[u(" 查看全部 "),c(B,{name:"arrow-right",color:"#999",size:"14"})]),_:1})]),_:1}),c(C,{class:"order_tabs"},{default:d(()=>[(n(!0),f(y,null,p(x.value,(e,a)=>(n(),o(C,{class:"order_tab",key:a,onClick:a=>function(e){g({url:`/subPage/mallSys/my/order/index?type=${e}`})}(e.code)},{default:d(()=>[c(B,{name:e.icon,color:"#3c9cff",size:"22"},null,8,["name"]),c(C,{class:"tab_name"},{default:d(()=>[u(_(e.name),1)]),_:2},1024),e.count&&e.count>0?(n(),o(C,{key:0,class:"tab_badge"},{default:d(()=>[u(_(e.count),1)]),_:2},1024)):i("",!0)]),_:2},1032,["onClick"]))),128))]),_:1}),c(C,{class:"last_orders"},{default:d(()=>[(n(!0),f(y,null,p(z(I),(e,a)=>(n(),o(j,{key:a,order:e},null,8,["order"]))),128))]),_:1})]),_:1}),c(C,{class:"my_banner-section"},{default:d(()=>[c(C,{class:"banner-wrapper"},{default:d(()=>[c(D,{class:"banner-image",src:"/static/userApp/mallSys/banner.png",mode:"widthFix"})]),_:1})]),_:1}),c(C,null,{default:d(()=>[c(R,{onChange:F,list:b,ismore:!1,title:"我的服务"},null,8,["list"])]),_:1})]),_:1})]),_:1},8,["loading"])}}}),[["__scopeId","data-v-0398685d"]]);export{F as default};
