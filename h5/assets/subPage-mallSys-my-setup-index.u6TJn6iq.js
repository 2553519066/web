import{d as e,r as l,b as a,a3 as o,e as t,c as s,o as n,w as i,f as u,i as d,n as c,I as r,p as m,m as p,t as v,A as _,u as f,a4 as w,a5 as b,y as C,D as k,a6 as x,s as P,a7 as y}from"./index-PVX4T5SZ.js";import{U as V,P as g}from"./PrivacyPolicy.C5y1eJJ5.js";import{R as h}from"./RentAgreement.BPpI5Sg-.js";const L=f(e({__name:"SetPasswordModal",props:{visible:{type:Boolean}},emits:["close","confirm"],setup(e,{emit:f}){const w=f,b=l({email:"",code:"",newPassword:"",confirmPassword:""}),C=l(0);function k(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)}function x(){C.value>0||(b.value.email?k(b.value.email)?(_({title:"验证码已发送",icon:"none"}),function(){C.value=60;const e=setInterval(()=>{C.value-=1,C.value<=0&&clearInterval(e)},1e3)}()):_({title:"请输入正确的邮箱格式",icon:"none"}):_({title:"请输入邮箱",icon:"none"}))}function P(){const e=b.value;var l;e.email?k(e.email)?e.code?e.newPassword?(l=e.newPassword,/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).{8,25}$/.test(l)?e.confirmPassword?e.newPassword===e.confirmPassword?w("confirm",{...e}):_({title:"两次输入的密码不一致",icon:"none"}):_({title:"请再次输入新密码",icon:"none"}):_({title:"密码格式不正确，需8~25位，含数字、字母、符号",icon:"none"})):_({title:"请输入新密码",icon:"none"}):_({title:"请输入验证码",icon:"none"}):_({title:"请输入正确的邮箱格式",icon:"none"}):_({title:"请输入邮箱",icon:"none"})}return(e,l)=>{const _=d,f=r,k=p,y=a(t("up-modal"),o);return n(),s(y,{show:e.visible,customStyle:{width:"620rpx"},showCancelButton:"",confirmColor:"#3c9cff",confirmText:"确认修改",cancelText:"取消",onConfirm:P,onCancel:l[4]||(l[4]=e=>w("close"))},{default:i(()=>[u(_,{class:"setpwd-modal"},{default:i(()=>[u(_,{class:"setpwd-modal__title"},{default:i(()=>[c("设置密码")]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:b.value.email,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value.email=e),class:"setpwd-modal__input",placeholder:"请输入邮箱",type:"text"},null,8,["modelValue"])]),_:1}),u(_,{class:"setpwd-modal__item setpwd-modal__item--code"},{default:i(()=>[u(f,{modelValue:b.value.code,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value.code=e),class:"setpwd-modal__input setpwd-modal__input--code",placeholder:"请输入验证码",type:"text"},null,8,["modelValue"]),u(_,{class:m(["setpwd-modal__code-btn",{"setpwd-modal__code-btn--disabled":C.value>0}]),onClick:x},{default:i(()=>[u(k,{class:"setpwd-modal__code-text"},{default:i(()=>[c(v(C.value>0?C.value+"s":"获取验证码"),1)]),_:1})]),_:1},8,["class"])]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:b.value.newPassword,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value.newPassword=e),class:"setpwd-modal__input",placeholder:"请输入新密码（8~25位，含数字、字母、符号）",password:!0,type:"text"},null,8,["modelValue"])]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:b.value.confirmPassword,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value.confirmPassword=e),class:"setpwd-modal__input",placeholder:"请再次输入新密码",password:!0,type:"text"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["show"])}}}),[["__scopeId","data-v-a532b526"]]),S=f(e({__name:"index",setup(e){const o=l("user@example.com"),r=l(!1),m=l(!1),f=l(!1),S=l(!1),A=e=>{_({title:"密码设置成功",icon:"none"}),S.value=!1},I=()=>{k({title:"提示",content:"确定要退出登录吗？",success:e=>{e.confirm&&x({url:"/pages/userApp/login/index"})}})},z=()=>{S.value=!0},U=()=>{r.value=!0},Z=()=>{m.value=!0},j=()=>{f.value=!0},B=e=>{P({url:e})},$=()=>{y({itemList:["简体中文","英语","印尼语"],success:e=>{0===e.tapIndex?_({title:"切换到中文"}):1===e.tapIndex&&_({title:"切换到英文"})}})};return(e,l)=>{const _=p,k=a(t("up-cell"),w),x=d,P=a(t("up-cell-group"),b),y=a(t("up-button"),C);return n(),s(x,{class:"setup"},{default:i(()=>[u(P,{border:!1},{default:i(()=>[u(k,{title:"邮箱账号",isLink:!1,arrow:!1},{value:i(()=>[u(_,{class:"user-email"},{default:i(()=>[c(v(o.value),1)]),_:1})]),_:1}),u(k,{title:"审核资料",value:"查看详情",isLink:!0,onClick:l[0]||(l[0]=e=>B("/subPage/mallSys/my/information/index"))}),u(k,{title:"基础资料",value:"查看详情",isLink:!0,onClick:l[1]||(l[1]=e=>B("/subPage/mallSys/my/setup/userProfile"))}),u(k,{title:"补充资料",value:"查看详情",isLink:!0,onClick:l[2]||(l[2]=e=>B("/subPage/mallSys/my/information/identityeExtra"))}),u(x,{class:"divider"}),u(k,{title:"设置密码",isLink:!0,titleStyle:{color:"#3c9cff"},onClick:z}),u(k,{title:"多语言",isLink:!0,onClick:$}),u(k,{title:"用户服务协议",isLink:!0,onClick:U}),u(k,{title:"租赁服务协议",isLink:!0,onClick:j}),u(k,{title:"隐私协议",isLink:!0,onClick:Z})]),_:1}),u(x,{class:"logout-btn-container"},{default:i(()=>[u(y,{text:"退出登录",onClick:I,customStyle:{color:"#333",backgroundColor:"#fff",border:"none",height:"100rpx",fontSize:"30rpx"}})]),_:1}),u(V,{visible:r.value,onClose:l[3]||(l[3]=e=>r.value=!1),onConfirm:l[4]||(l[4]=e=>r.value=!1)},null,8,["visible"]),u(g,{visible:m.value,onClose:l[5]||(l[5]=e=>m.value=!1),onConfirm:l[6]||(l[6]=e=>m.value=!1)},null,8,["visible"]),u(h,{visible:f.value,onClose:l[7]||(l[7]=e=>f.value=!1),onConfirm:l[8]||(l[8]=e=>f.value=!1)},null,8,["visible"]),u(L,{visible:S.value,onClose:l[9]||(l[9]=e=>S.value=!1),onConfirm:A},null,8,["visible"])]),_:1})}}}),[["__scopeId","data-v-7e231be2"]]);export{S as default};
