import{d as a,r as e,B as s,W as t,R as l,a as r,w as u,b as o,e as c,_ as n,f as i,o as d,g as _,i as f,p as h,q as v,I as m,k as p,F as y,l as g,t as k,N as x,X as C,x as A,A as S}from"./index-BmuteYHR.js";import{P as b}from"./ProductList.CAeQN26c.js";import{p as w}from"./phones.CXKAVbyd.js";const L=S(a({__name:"index",setup(a){const S=e(!1),L=e(""),j=e(!0),q=e([]),V=e([]);function I(a){const e=String(a||L.value).trim();if(L.value=e,j.value=!1,!e)return void(V.value=[]);const s=e.toLowerCase();V.value=w.filter(a=>String(a.name).toLowerCase().includes(s)||String(a.brand).toLowerCase().includes(s));const t=new Set(q.value);t.add(e),q.value=Array.from(t).slice(-20),l("search_history",q.value)}function P(){q.value=[],C("search_history")}function z(a){A({url:`/pages/userApp/order/index?id=${a}`})}return s(a=>{const e=t("search_history")||[];q.value=Array.isArray(e)?e:[],a&&a.query&&(L.value=String(a.query),I(L.value))}),(a,e)=>{const s=o("b-navbar"),t=h,l=f,C=m,A=c(i("up-icon"),n),w=o("head-top");return d(),r(w,{loading:S.value,is_footer_mar:!1},{default:u(()=>[_(l,{class:"search-container"},{default:u(()=>[_(s,{title:"æœç´¢"}),_(l,{class:"search_head"},{default:u(()=>[_(l,{class:"search_head_title"},{default:u(()=>[_(l,{class:"custom-search"},{default:u(()=>[_(l,{class:"custom-search__content"},{default:u(()=>[_(l,{class:"custom-search__icon"},{default:u(()=>[_(t,{class:"custom-search__icon-text"},{default:u(()=>[v("ğŸ”")]),_:1})]),_:1}),_(C,{class:"custom-search__input",modelValue:L.value,"onUpdate:modelValue":e[0]||(e[0]=a=>L.value=a),type:"text","confirm-type":"search",placeholder:"æœç´¢å•†å“",onConfirm:e[1]||(e[1]=a=>I(L.value))},null,8,["modelValue"]),_(l,{class:"custom-search__action",onClick:e[2]||(e[2]=a=>I(L.value))},{default:u(()=>[_(t,{class:"custom-search__action-text"},{default:u(()=>[v("æœç´¢")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),j.value&&q.value.length>0?(d(),r(l,{key:0,class:"history"},{default:u(()=>[_(l,{class:"search_history"},{default:u(()=>[_(l,null,{default:u(()=>[v("å†å²æœç´¢")]),_:1}),_(l,{class:"clear",onClick:P},{default:u(()=>[_(A,{name:"trash-fill",size:"20"})]),_:1})]),_:1}),_(l,{class:"historycontent"},{default:u(()=>[(d(!0),p(y,null,g(q.value,a=>(d(),r(t,{class:"history_item",key:a,onClick:e=>{return s=a,L.value=s,void I(s);var s}},{default:u(()=>[v(k(a),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):(d(),r(l,{key:1,class:"result-page"},{default:u(()=>[V.value.length>0?(d(),r(b,{key:0,"brand-name":"æœç´¢ç»“æœ",list:V.value,onSelect:z},null,8,["list"])):(d(),r(x,{key:1,text:"æš‚æ— ç›¸å…³å•†å“"}))]),_:1}))]),_:1})]),_:1},8,["loading"])}}}),[["__scopeId","data-v-55217294"]]);export{L as default};
