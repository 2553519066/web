import{d as e,e as a,_ as t,f as l,G as s,a as o,o as n,i as r,w as c,g as d,D as i,p as u,t as _,k as f,H as p,l as m,F as y,v as g,J as h,E as b,z as x,B as k,r as v,K as w,c as C,b as P,L as z,j as S,h as A}from"./index-BvTRnY6x.js";import{o as B,l as I}from"./orders.DJuNOKoI.js";const L=x(e({__name:"index",props:{islot:{type:Boolean,default:!1},list:{default:[]},ToPath:{default:""},title:{default:"我是标题"},ismore:{type:Boolean,default:!0},nextPage:{default:""}},emits:{},setup(e,{emit:x}){const k=x;return(e,x)=>{const v=r,w=a(l("up-icon"),t),C=a(l("up-image"),s);return n(),o(v,{class:"myorder"},{default:c(()=>[d(v,{class:"myorder_head"},{default:c(()=>[d(v,{class:"bold"},{default:c(()=>[u(_(e.title),1)]),_:1}),e.ismore?(n(),o(v,{key:0,class:"flex",onClick:x[0]||(x[0]=a=>{var t;(t=e.nextPage)&&g({url:t})})},{default:c(()=>[u(" 更多 "),d(w,{name:"arrow-right",color:"#919191",size:"13"})]),_:1})):i("",!0)]),_:1}),d(v,{class:"myorder_items"},{default:c(()=>[e.islot?p(e.$slots,"default",{key:1},void 0,!0):(n(!0),f(y,{key:0},m(e.list,(e,a)=>(n(),o(v,{class:"myorder_list",key:a,onClick:a=>function(e){k("change",e);const a=e&&e.path;if(!a)return;/^https?:\/\//i.test(a)?h({title:"提示",content:"即将打开外部链接，是否继续？",success(e){e.confirm&&("undefined"!=typeof window?window.open(a,"_blank"):b({title:"当前环境暂不支持打开外部链接",icon:"none"}))}}):g({url:a})}(e)},{default:c(()=>[d(v,{class:"flexconter"},{default:c(()=>[d(C,{src:e.img,mode:"aspectFit",height:"40rpx","lazy-load":!0,width:"40rpx"},null,8,["src"]),e.value?(n(),o(v,{key:0,class:"myorder_list_top"},{default:c(()=>[u(_(e.value),1)]),_:2},1024)):i("",!0)]),_:2},1024),d(v,{class:"ynase"},{default:c(()=>[u(_(e.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:3})]),_:3})}}}),[["__scopeId","data-v-65221021"]]),R=x(e({__name:"index",props:{order:{}},emits:["click"],setup(e,{emit:t}){const s=e,i=t,f=()=>{i("click",s.order)};return(e,t)=>{const s=r,i=a(l("up-button"),k);return n(),o(s,{class:"order_item",onClick:f},{default:c(()=>[d(s,{class:"order_header"},{default:c(()=>[d(s,{class:"order_code"},{default:c(()=>[u("订单编号："+_(e.order.code),1)]),_:1}),d(s,{class:"order_date"},{default:c(()=>[u("账期："+_(e.order.nextDueDate),1)]),_:1})]),_:1}),d(s,{class:"order_content"},{default:c(()=>[d(s,{class:"order_info"},{default:c(()=>[d(s,{class:"info_tag"},{default:c(()=>[u(_(e.order.brand),1)]),_:1}),d(s,{class:"info_tag"},{default:c(()=>[u(_(e.order.model),1)]),_:1}),d(s,{class:"info_tag"},{default:c(()=>[u(_(e.order.storage),1)]),_:1})]),_:1}),d(s,{class:"order_action"},{default:c(()=>[d(i,{type:"primary",size:"small",text:e.order.needPay?"待支付":"identity"===e.order.action?"上传身份资料":"contract"===e.order.action?"上传合同":"repay"===e.order.action?"还款":"earlyRepay"===e.order.action?"提前还款":"defer"===e.order.action?"申请延期":"dailyRent"===e.order.action?"日租续用":"风控材料",customStyle:{fontSize:"24rpx",padding:"10rpx 20rpx",height:"auto"},onClick:f},null,8,["text"])]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-4bdcc188"]]),j="/h5/static/userApp/mallSys/settle.png",K=x(e({__name:"index",setup(e){const p=v(!1),h=w([...B]),b=v([{label:"已还期数",value:"33 期",path:"/subPage/mallSys/my/billLog/repayment"},{label:"待还期数",value:"12 期",path:"/subPage/mallSys/my/billLog/overdue"},{label:"违约金",value:"¥25081.09",path:"/subPage/mallSys/my/billLog/penalty"}]),x=C(()=>[{name:"待支付",icon:"clock",count:h.filter(e=>e.needPay).length,code:"2"},{name:"待审核",icon:"file-text",count:h.filter(e=>e.needUpload).length,code:"3"},{name:"待收货",icon:"shopping-cart",count:h.filter(e=>!e.needPay&&!e.needUpload&&"repay"!==e.action&&"earlyRepay"!==e.action).length,code:"5"},{name:"交易完成",icon:"checkmark-circle",count:h.filter(e=>"repay"===e.action||"earlyRepay"===e.action).length,code:"9"},{name:"我的售后",icon:"reload",count:h.filter(e=>"defer"===e.action||"dailyRent"===e.action).length,code:"6"}]),k=w([{name:"进入后台",img:j,path:"https://anzhuxia.zlg.xyzulin.top/web/index.php?c=site&a=entry&m=ewei_shopv2&do=web&r=order.detail&id=43020"},{name:"商户中心",img:j,path:"/pages/saleApp/home/index"},{name:"我的资料",img:j,path:"/subPage/mallSys/my/information/index"}]);function K(){g({url:"/subPage/mallSys/my/order/index?type=0"})}function D(e){}function F(e){console.log(e,"avatar")}function H(){g({url:"/subPage/mallSys/my/setup/index"})}return(e,h)=>{const v=a(l("up-image"),s),w=z,C=r,B=a(l("up-icon"),t),j=A,E=P("head-top");return n(),o(E,{loading:p.value,is_footer_mar:!1},{default:c(()=>[d(C,{class:"my_container"},{default:c(()=>[d(C,{class:"user_header"},{default:c(()=>[d(C,{class:"user_info"},{default:c(()=>[d(w,{class:"avatar-wrapper","open-type":"chooseAvatar",onChooseavatar:F},{default:c(()=>[d(v,{src:"https://doc-fd.zol-img.com.cn/t_s2000x2000/g7/M00/02/04/ChMkLGYh-V6IfKVlAAK_hwBPBrwAAdKJQHIOOEAAr-f792.jpg",radius:"50%",height:"120rpx","lazy-load":!0,width:"120rpx"})]),_:1}),d(C,{class:"user_details"},{default:c(()=>[d(C,{class:"user_score"},{default:c(()=>[u("345")]),_:1}),d(C,{class:"user_welcome"},{default:c(()=>[u("欢迎回来")]),_:1})]),_:1})]),_:1}),d(C,{class:"settings-icon",onClick:H},{default:c(()=>[d(B,{name:"setting",color:"#fff",size:"24"})]),_:1})]),_:1}),d(C,{class:"account_analysis"},{default:c(()=>[d(C,{class:"analysis_title"},{default:c(()=>[u("个人账单分析")]),_:1}),d(C,{class:"analysis_stats"},{default:c(()=>[(n(!0),f(y,null,m(b.value,(e,a)=>(n(),o(C,{class:"stat_item",key:a,onClick:a=>{g({url:e.path})}},{default:c(()=>[d(C,{class:"stat_label"},{default:c(()=>[u(_(e.label),1)]),_:2},1024),d(C,{class:"stat_value"},{default:c(()=>[u(_(e.value),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1}),d(C,{class:"my_orders_section"},{default:c(()=>[d(C,{class:"section_header"},{default:c(()=>[d(C,{class:"section_title"},{default:c(()=>[u("我的订单")]),_:1}),d(C,{class:"view_all",onClick:K},{default:c(()=>[u(" 查看全部 "),d(B,{name:"arrow-right",color:"#999",size:"14"})]),_:1})]),_:1}),d(C,{class:"order_tabs"},{default:c(()=>[(n(!0),f(y,null,m(x.value,(e,a)=>(n(),o(C,{class:"order_tab",key:a,onClick:a=>function(e){g({url:`/subPage/mallSys/my/order/index?type=${e}`})}(e.code)},{default:c(()=>[d(B,{name:e.icon,color:"#3c9cff",size:"22"},null,8,["name"]),d(C,{class:"tab_name"},{default:c(()=>[u(_(e.name),1)]),_:2},1024),e.count&&e.count>0?(n(),o(C,{key:0,class:"tab_badge"},{default:c(()=>[u(_(e.count),1)]),_:2},1024)):i("",!0)]),_:2},1032,["onClick"]))),128))]),_:1}),d(C,{class:"last_orders"},{default:c(()=>[(n(!0),f(y,null,m(S(I),(e,a)=>(n(),o(R,{key:a,order:e},null,8,["order"]))),128))]),_:1})]),_:1}),d(C,{class:"my_banner-section"},{default:c(()=>[d(C,{class:"banner-wrapper"},{default:c(()=>[d(j,{class:"banner-image",src:"/h5/static/userApp/mallSys/banner.png",mode:"widthFix"})]),_:1})]),_:1}),d(C,null,{default:c(()=>[d(L,{onChange:D,list:k,ismore:!1,title:"我的服务"},null,8,["list"])]),_:1})]),_:1})]),_:1},8,["loading"])}}}),[["__scopeId","data-v-9a973215"]]);export{K as default};
