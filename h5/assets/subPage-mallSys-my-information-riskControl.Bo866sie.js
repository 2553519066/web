import{d as e,E as l,r as a,b as s,_ as t,e as i,z as o,c as n,o as d,i as u,w as f,f as c,l as r,m as p,n as _,p as k,t as m,u as h,v as b,B as y,y as w,V as x,x as v,a as F,A as I,a8 as C,a9 as g}from"./index-D6n_yxAO.js";import{B as j}from"./index.BjycsGiO.js";const S=h(e({__name:"index",emits:["submit","help"],setup(e,{expose:h,emit:b}){const y=b,w=l({jobType:"",jobTypeName:"",bankInfoFiles:[],bankStatementFiles:[],workIdFiles:[],workProofFiles:[],licenseFiles:[]}),x=a(!1),v=a([[{text:"上班族",value:"job",id:1},{text:"个体户",value:"individual",id:2},{text:"自由职业",value:"freelance",id:3}]]),F=e=>{y("help",e)},I=e=>{const l=e.value[0];w.jobType=l.value,w.jobTypeName=l.text,x.value=!1};return h({submit:()=>{y("submit",{...w})}}),(e,l)=>{const a=p,h=u,b=s(i("up-icon"),t),y=s(i("up-picker"),o);return d(),n(h,{class:"risk-form"},{default:f(()=>[c(h,{class:"section-card"},{default:f(()=>[c(h,{class:"field-block job-type-block",onClick:l[0]||(l[0]=e=>x.value=!0)},{default:f(()=>[c(h,{class:"field-top"},{default:f(()=>[c(a,{class:"field-label"},{default:f(()=>[_("职业类型")]),_:1})]),_:1}),c(h,{class:"select-box"},{default:f(()=>[c(a,{class:k(["select-text",{placeholder:!w.jobTypeName}])},{default:f(()=>[_(m(w.jobTypeName||"请选择职业类型"),1)]),_:1},8,["class"]),c(b,{name:"arrow-down",size:"16",color:"#909399"})]),_:1}),c(a,{class:"field-tip"},{default:f(()=>[_(" 个体户：请提供营业执照、店铺门头和店铺环境照片；自由职业：可提供流水收入等收入证明。 ")]),_:1})]),_:1}),c(h,{class:"field-block"},{default:f(()=>[c(h,{class:"field-top"},{default:f(()=>[c(a,{class:"field-label"},{default:f(()=>[_("社保卡")]),_:1}),c(h,{class:"field-help",onClick:l[1]||(l[1]=e=>F("bankInfo"))},{default:f(()=>[c(b,{name:"question-circle-fill",color:"#999",size:"20"})]),_:1})]),_:1}),c(a,{class:"field-desc"},{default:f(()=>[_("请上传能清晰展示卡号的照片。")]),_:1}),c(h,{class:"upload-row"},{default:f(()=>[c(j,{fileList:w.bankInfoFiles,"onUpdate:fileList":l[2]||(l[2]=e=>w.bankInfoFiles=e),maxCount:3,width:"80",height:"80"},null,8,["fileList"])]),_:1})]),_:1}),c(h,{class:"field-block"},{default:f(()=>[c(h,{class:"field-top"},{default:f(()=>[c(a,{class:"field-label"},{default:f(()=>[_("银行对账单")]),_:1}),c(h,{class:"field-help",onClick:l[3]||(l[3]=e=>F("bankStatement"))},{default:f(()=>[c(b,{name:"question-circle-fill",color:"#999",size:"20"})]),_:1})]),_:1}),c(a,{class:"field-desc"},{default:f(()=>[_("请上传最近3个月的银行对账单截图。")]),_:1}),c(h,{class:"upload-row"},{default:f(()=>[c(j,{fileList:w.bankStatementFiles,"onUpdate:fileList":l[4]||(l[4]=e=>w.bankStatementFiles=e),maxCount:3,width:"80",height:"80"},null,8,["fileList"])]),_:1})]),_:1}),"job"==w.jobType?(d(),n(h,{key:0,class:"field-block"},{default:f(()=>[c(h,{class:"field-top"},{default:f(()=>[c(a,{class:"field-label"},{default:f(()=>[_("工作 ID")]),_:1}),c(h,{class:"field-help",onClick:l[5]||(l[5]=e=>F("workId"))},{default:f(()=>[c(b,{name:"question-circle-fill",color:"#999",size:"20"})]),_:1})]),_:1}),c(a,{class:"field-desc"},{default:f(()=>[_("请上传公司工作证件或工牌的清晰照片。")]),_:1}),c(h,{class:"upload-row"},{default:f(()=>[c(j,{fileList:w.workIdFiles,"onUpdate:fileList":l[6]||(l[6]=e=>w.workIdFiles=e),maxCount:3,width:"80",height:"80"},null,8,["fileList"])]),_:1})]),_:1})):r("",!0),"freelance"==w.jobType?(d(),n(h,{key:1,class:"field-block"},{default:f(()=>[c(h,{class:"field-top"},{default:f(()=>[c(a,{class:"field-label"},{default:f(()=>[_("工作记录证明")]),_:1}),c(h,{class:"field-help",onClick:l[7]||(l[7]=e=>F("workProof"))},{default:f(()=>[c(b,{name:"question-circle-fill",color:"#999",size:"20"})]),_:1})]),_:1}),c(a,{class:"field-desc"},{default:f(()=>[_("如合同、在职证明、工牌合照等能证明工作的资料。")]),_:1}),c(h,{class:"upload-row"},{default:f(()=>[c(j,{fileList:w.workProofFiles,"onUpdate:fileList":l[8]||(l[8]=e=>w.workProofFiles=e),maxCount:3,width:"80",height:"80"},null,8,["fileList"])]),_:1})]),_:1})):r("",!0),"freelance"==w.jobType?(d(),n(h,{key:2,class:"field-block"},{default:f(()=>[c(h,{class:"field-top"},{default:f(()=>[c(a,{class:"field-label"},{default:f(()=>[_("营业执照/公司注册证书")]),_:1}),c(h,{class:"field-help",onClick:l[9]||(l[9]=e=>F("license"))},{default:f(()=>[c(b,{name:"question-circle-fill",color:"#999",size:"20"})]),_:1})]),_:1}),c(a,{class:"field-desc"},{default:f(()=>[_("如您为企业用户，请上传营业执照或公司注册证书。")]),_:1}),c(h,{class:"upload-row"},{default:f(()=>[c(j,{fileList:w.licenseFiles,"onUpdate:fileList":l[10]||(l[10]=e=>w.licenseFiles=e),maxCount:3,width:"80",height:"80"},null,8,["fileList"])]),_:1})]),_:1})):r("",!0)]),_:1}),c(y,{show:x.value,columns:v.value,onConfirm:I,onCancel:l[11]||(l[11]=e=>x.value=!1)},null,8,["show","columns"]),c(h,{class:"bottom-safe"})]),_:1})}}}),[["__scopeId","data-v-3d7aa187"]]),L=h(e({__name:"index",props:{type:{default:"bankInfo"}},emits:["confirm"],setup(e,{emit:l}){const a=e,t=l,o={width:"100%",height:"44px",backgroundColor:"#3c9cff",borderColor:"#3c9cff",borderRadius:"8px",fontSize:"16px"},r=b(()=>"bankStatement"==a.type?"/static/userApp/mallSys/information/riskControl1.jpg":"workId"==a.type?"/static/userApp/mallSys/information/riskControl2.jpg":"workProof"==a.type?"/static/userApp/mallSys/information/riskControl3.jpg":"license"==a.type?"/static/userApp/mallSys/information/riskControl4.jpg":"/static/userApp/mallSys/information/riskControl0.jpg"),k=()=>{t("confirm")};return(e,l)=>{const t=u,m=p,h=s(i("up-image"),y),b=x,v=s(i("up-button"),w);return d(),n(t,{class:"identity-help"},{default:f(()=>[c(t,{class:"help-mask",onClick:k}),c(t,{class:"help-card"},{default:f(()=>[c(b,{"scroll-y":"",class:"help-scroll"},{default:f(()=>[c(t,{class:"help-content"},{default:f(()=>["bankInfo"===a.type?(d(),n(t,{key:0,class:"main-view"},{default:f(()=>[c(t,{class:"help-title"},{default:f(()=>[_("银行信息上传说明")]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 1. 照片需清晰展示持卡人姓名、银行卡号以及开户银行信息。 ")]),_:1})]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 2. 请避免反光、遮挡和模糊，确保所有文字可读。 ")]),_:1})]),_:1})]),_:1})):"bankStatement"===a.type?(d(),n(t,{key:1,class:"main-view"},{default:f(()=>[c(t,{class:"help-title"},{default:f(()=>[_("银行对账单上传说明")]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 1. 建议上传最近 3 个月的对账单或流水记录截图。 ")]),_:1})]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 2. 需能看到账户姓名、账号以及主要交易记录。 ")]),_:1})]),_:1})]),_:1})):"workId"===a.type?(d(),n(t,{key:2,class:"main-view"},{default:f(()=>[c(t,{class:"help-title"},{default:f(()=>[_("工作 ID 上传说明")]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 1. 请上传公司工牌或工作证件正面照片，信息需完整清晰。 ")]),_:1})]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 2. 尽量包含姓名、职位、公司名称等关键信息。 ")]),_:1})]),_:1})]),_:1})):"workProof"===a.type?(d(),n(t,{key:3,class:"main-view"},{default:f(()=>[c(t,{class:"help-title"},{default:f(()=>[_("工作记录证明上传说明")]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 1. 可上传劳动合同、在职证明、工牌合照等材料。 ")]),_:1})]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 2. 确保能够体现任职单位、岗位及有效期限等信息。 ")]),_:1})]),_:1})]),_:1})):(d(),n(t,{key:4,class:"main-view"},{default:f(()=>[c(t,{class:"help-title"},{default:f(()=>[_("营业执照/公司注册证书上传说明")]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 1. 请上传完整的营业执照或公司注册证书页面。 ")]),_:1})]),_:1}),c(t,{class:"help-line"},{default:f(()=>[c(m,{class:"help-text"},{default:f(()=>[_(" 2. 需清晰展示公司名称、统一社会信用代码及有效期等信息。 ")]),_:1})]),_:1})]),_:1})),c(t,{class:"help-image-wrap"},{default:f(()=>[c(h,{"show-loading":!0,mode:"widthFix",src:r.value,width:"520rpx"},null,8,["src"])]),_:1}),c(t,{class:"help-hr"})]),_:1})]),_:1}),c(t,{class:"help-footer"},{default:f(()=>[c(v,{type:"primary",style:{height:"60rpx"},text:"确认",customStyle:o,onClick:k})]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-496e0f28"]]),T=h(e({__name:"riskControl",setup(e){const t=a(!1),o=a("notUpload"),h=l({jobType:"",bankInfoFiles:[],bankStatementFiles:[],workIdFiles:[],workProofFiles:[],licenseFiles:[]}),y=a(!1),x=a("bankInfo"),j=a(null),T=b(()=>"uploaded"===o.value?"已上传":"returned"===o.value?"已退回":"未上传"),P=b(()=>"uploaded"===o.value?"status--success":"returned"===o.value?"status--error":"status--default"),z={width:"100%",height:"44px",backgroundColor:"#3c9cff",borderColor:"#3c9cff",borderRadius:"4px",fontSize:"16px"},A=()=>{j.value&&j.value.submit()},U=e=>{h.jobType=e.jobType,h.bankInfoFiles=e.bankInfoFiles,h.bankStatementFiles=e.bankStatementFiles,h.workIdFiles=e.workIdFiles,h.workProofFiles=e.workProofFiles,h.licenseFiles=e.licenseFiles,h.jobType?0!==h.bankInfoFiles.length||0!==h.bankStatementFiles.length||0!==h.workIdFiles.length||0!==h.workProofFiles.length||0!==h.licenseFiles.length?(C({title:"提交中..."}),setTimeout(()=>{g(),I({title:"提交成功",icon:"none"}),o.value="uploaded"},800)):I({title:"请至少上传一项风控资料",icon:"none"}):I({title:"请选择职业类型",icon:"none"})},q=e=>{x.value="bankInfo"===e||"bankStatement"===e||"workId"===e||"workProof"===e||"license"===e?e:"bankInfo",y.value=!0},N=()=>{y.value=!1};return v(e=>{t.value=!1,e&&e.status&&("uploaded"!==e.status&&"returned"!==e.status||(o.value=e.status))}),(e,l)=>{const a=p,h=u,b=s(i("up-button"),w),v=F("head-top");return d(),n(v,{loading:t.value,is_footer_mar:!1},{default:f(()=>[c(h,{class:"risk-page"},{default:f(()=>[c(h,{class:k(["status-bar",P.value])},{default:f(()=>[c(a,{class:"status-text"},{default:f(()=>[_(m(T.value),1)]),_:1}),"returned"===o.value?(d(),n(a,{key:0,class:"status-tip"},{default:f(()=>[_(" 审核说明：身份或证件照片模糊、信息缺失，请重新上传。 ")]),_:1})):r("",!0)]),_:1},8,["class"]),c(S,{ref_key:"riskFormRef",ref:j,onSubmit:U,onHelp:q},null,512),c(h,{class:"submit-bar"},{default:f(()=>[c(b,{type:"primary",text:"提交",customStyle:z,onClick:A})]),_:1}),y.value?(d(),n(L,{key:0,type:x.value,onConfirm:N},null,8,["type"])):r("",!0)]),_:1})]),_:1},8,["loading"])}}}),[["__scopeId","data-v-3ad5bc23"]]);export{T as default};
