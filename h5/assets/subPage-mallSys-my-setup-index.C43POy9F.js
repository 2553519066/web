import{d as e,r as l,e as a,a8 as o,f as s,a as t,o as n,w as i,g as u,i as d,q as c,I as r,s as m,p,t as v,E as _,A as f,u as w,a6 as C,a7 as b,C as x,J as k,a9 as P,x as y,y as g,z as h}from"./index-B8xfDC1T.js";import{U as V,P as L}from"./PrivacyPolicy.jGpoZu39.js";import{R as I}from"./RentAgreement.4ZW64AsU.js";const S=f(e({__name:"SetPasswordModal",props:{visible:{type:Boolean}},emits:["close","confirm"],setup(e,{emit:f}){const w=f,C=l({email:"",code:"",newPassword:"",confirmPassword:""}),b=l(0);function x(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)}function k(){b.value>0||(C.value.email?x(C.value.email)?(_({title:"验证码已发送",icon:"none"}),function(){b.value=60;const e=setInterval(()=>{b.value-=1,b.value<=0&&clearInterval(e)},1e3)}()):_({title:"请输入正确的邮箱格式",icon:"none"}):_({title:"请输入邮箱",icon:"none"}))}function P(){const e=C.value;var l;e.email?x(e.email)?e.code?e.newPassword?(l=e.newPassword,/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).{8,25}$/.test(l)?e.confirmPassword?e.newPassword===e.confirmPassword?w("confirm",{...e}):_({title:"两次输入的密码不一致",icon:"none"}):_({title:"请再次输入新密码",icon:"none"}):_({title:"密码格式不正确，需8~25位，含数字、字母、符号",icon:"none"})):_({title:"请输入新密码",icon:"none"}):_({title:"请输入验证码",icon:"none"}):_({title:"请输入正确的邮箱格式",icon:"none"}):_({title:"请输入邮箱",icon:"none"})}return(e,l)=>{const _=d,f=r,x=p,y=a(s("up-modal"),o);return n(),t(y,{show:e.visible,customStyle:{width:"620rpx"},showCancelButton:"",confirmColor:"#3c9cff",confirmText:"确认修改",cancelText:"取消",onConfirm:P,onCancel:l[4]||(l[4]=e=>w("close"))},{default:i(()=>[u(_,{class:"setpwd-modal"},{default:i(()=>[u(_,{class:"setpwd-modal__title"},{default:i(()=>[c("设置密码")]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:C.value.email,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value.email=e),class:"setpwd-modal__input",placeholder:"请输入邮箱",type:"text"},null,8,["modelValue"])]),_:1}),u(_,{class:"setpwd-modal__item setpwd-modal__item--code"},{default:i(()=>[u(f,{modelValue:C.value.code,"onUpdate:modelValue":l[1]||(l[1]=e=>C.value.code=e),class:"setpwd-modal__input setpwd-modal__input--code",placeholder:"请输入验证码",type:"text"},null,8,["modelValue"]),u(_,{class:m(["setpwd-modal__code-btn",{"setpwd-modal__code-btn--disabled":b.value>0}]),onClick:k},{default:i(()=>[u(x,{class:"setpwd-modal__code-text"},{default:i(()=>[c(v(b.value>0?b.value+"s":"获取验证码"),1)]),_:1})]),_:1},8,["class"])]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:C.value.newPassword,"onUpdate:modelValue":l[2]||(l[2]=e=>C.value.newPassword=e),class:"setpwd-modal__input",placeholder:"请输入新密码（8~25位，含数字、字母、符号）",password:!0,type:"text"},null,8,["modelValue"])]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:C.value.confirmPassword,"onUpdate:modelValue":l[3]||(l[3]=e=>C.value.confirmPassword=e),class:"setpwd-modal__input",placeholder:"请再次输入新密码",password:!0,type:"text"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["show"])}}}),[["__scopeId","data-v-a532b526"]]),z=f(e({__name:"index",setup(e){const{locale:o}=w(),r=l("user@example.com"),m=l(!1),f=l(!1),z=l(!1),A=l(!1),U=e=>{_({title:"密码设置成功",icon:"none"}),A.value=!1},B=()=>{k({title:"提示",content:"确定要退出登录吗？",success:e=>{e.confirm&&P({url:"/pages/userApp/login/index"})}})},Z=()=>{A.value=!0},j=()=>{m.value=!0},E=()=>{f.value=!0},$=()=>{z.value=!0},R=e=>{y({url:e})},T=()=>{g({itemList:["简体中文","English","Bahasa Indonesia"],success:e=>{let l="";0===e.tapIndex?l="zh":1===e.tapIndex?l="en":2===e.tapIndex&&(l="id"),l&&(o.value=l,h("locale",l),_({title:"Language changed",icon:"none"}))}})};return(e,l)=>{const o=p,_=a(s("up-cell"),C),w=d,k=a(s("up-cell-group"),b),P=a(s("up-button"),x);return n(),t(w,{class:"setup"},{default:i(()=>[u(k,{border:!1},{default:i(()=>[u(_,{title:"邮箱账号",isLink:!1,arrow:!1},{value:i(()=>[u(o,{class:"user-email"},{default:i(()=>[c(v(r.value),1)]),_:1})]),_:1}),u(_,{title:"审核资料",value:"查看详情",isLink:!0,onClick:l[0]||(l[0]=e=>R("/subPage/mallSys/my/information/index"))}),u(_,{title:"基础资料",value:"查看详情",isLink:!0,onClick:l[1]||(l[1]=e=>R("/subPage/mallSys/my/setup/userProfile"))}),u(_,{title:"补充资料",value:"查看详情",isLink:!0,onClick:l[2]||(l[2]=e=>R("/subPage/mallSys/my/information/identityeExtra"))}),u(w,{class:"divider"}),u(_,{title:"设置密码",isLink:!0,titleStyle:{color:"#3c9cff"},onClick:Z}),u(_,{title:"多语言",isLink:!0,onClick:T}),u(_,{title:"用户服务协议",isLink:!0,onClick:j}),u(_,{title:"租赁服务协议",isLink:!0,onClick:$}),u(_,{title:"隐私协议",isLink:!0,onClick:E})]),_:1}),u(w,{class:"logout-btn-container"},{default:i(()=>[u(P,{text:"退出登录",onClick:B,customStyle:{color:"#333",backgroundColor:"#fff",border:"none",height:"100rpx",fontSize:"30rpx"}})]),_:1}),u(V,{visible:m.value,onClose:l[3]||(l[3]=e=>m.value=!1),onConfirm:l[4]||(l[4]=e=>m.value=!1)},null,8,["visible"]),u(L,{visible:f.value,onClose:l[5]||(l[5]=e=>f.value=!1),onConfirm:l[6]||(l[6]=e=>f.value=!1)},null,8,["visible"]),u(I,{visible:z.value,onClose:l[7]||(l[7]=e=>z.value=!1),onConfirm:l[8]||(l[8]=e=>z.value=!1)},null,8,["visible"]),u(S,{visible:A.value,onClose:l[9]||(l[9]=e=>A.value=!1),onConfirm:U},null,8,["visible"])]),_:1})}}}),[["__scopeId","data-v-1553dff9"]]);export{z as default};
