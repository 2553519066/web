import{d as a,r as e,x as s,T as t,O as l,c as r,w as u,a as o,b as c,_ as n,e as i,o as d,f as _,i as f,m as h,n as v,I as m,h as y,F as p,j as g,t as k,N as x,U as C,s as S,u as b}from"./index-GbXCx2Zj.js";import{P as w}from"./ProductList.B7WkIwNp.js";import{p as j}from"./phones.CXKAVbyd.js";const A=b(a({__name:"index",setup(a){const b=e(!1),A=e(""),L=e(!0),V=e([]),q=e([]);function I(a){const e=String(a||A.value).trim();if(A.value=e,L.value=!1,!e)return void(q.value=[]);const s=e.toLowerCase();q.value=j.filter(a=>String(a.name).toLowerCase().includes(s)||String(a.brand).toLowerCase().includes(s));const t=new Set(V.value);t.add(e),V.value=Array.from(t).slice(-20),l("search_history",V.value)}function P(){V.value=[],C("search_history")}function U(a){S({url:`/pages/userApp/order/index?id=${a}`})}return s(a=>{const e=t("search_history")||[];V.value=Array.isArray(e)?e:[],a&&a.query&&(A.value=String(a.query),I(A.value))}),(a,e)=>{const s=o("b-navbar"),t=h,l=f,C=m,S=c(i("up-icon"),n),j=o("head-top");return d(),r(j,{loading:b.value,is_footer_mar:!1},{default:u(()=>[_(l,{class:"search-container"},{default:u(()=>[_(s,{title:"æœç´¢"}),_(l,{class:"search_head"},{default:u(()=>[_(l,{class:"search_head_title"},{default:u(()=>[_(l,{class:"custom-search"},{default:u(()=>[_(l,{class:"custom-search__content"},{default:u(()=>[_(l,{class:"custom-search__icon"},{default:u(()=>[_(t,{class:"custom-search__icon-text"},{default:u(()=>[v("ğŸ”")]),_:1})]),_:1}),_(C,{class:"custom-search__input",modelValue:A.value,"onUpdate:modelValue":e[0]||(e[0]=a=>A.value=a),type:"text","confirm-type":"search",placeholder:"æœç´¢å•†å“",onConfirm:e[1]||(e[1]=a=>I(A.value))},null,8,["modelValue"]),_(l,{class:"custom-search__action",onClick:e[2]||(e[2]=a=>I(A.value))},{default:u(()=>[_(t,{class:"custom-search__action-text"},{default:u(()=>[v("æœç´¢")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),L.value&&V.value.length>0?(d(),r(l,{key:0,class:"history"},{default:u(()=>[_(l,{class:"search_history"},{default:u(()=>[_(l,null,{default:u(()=>[v("å†å²æœç´¢")]),_:1}),_(l,{class:"clear",onClick:P},{default:u(()=>[_(S,{name:"trash-fill",size:"20"})]),_:1})]),_:1}),_(l,{class:"historycontent"},{default:u(()=>[(d(!0),y(p,null,g(V.value,a=>(d(),r(t,{class:"history_item",key:a,onClick:e=>{return s=a,A.value=s,void I(s);var s}},{default:u(()=>[v(k(a),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):(d(),r(l,{key:1,class:"result-page"},{default:u(()=>[q.value.length>0?(d(),r(w,{key:0,"brand-name":"æœç´¢ç»“æœ",list:q.value,onSelect:U},null,8,["list"])):(d(),r(x,{key:1,text:"æš‚æ— ç›¸å…³å•†å“"}))]),_:1}))]),_:1})]),_:1},8,["loading"])}}}),[["__scopeId","data-v-55217294"]]);export{A as default};
