import{d as e,e as a,_ as t,f as s,G as l,a as o,o as n,i as r,w as c,g as d,n as i,q as u,t as _,k as f,H as m,l as p,F as y,x as g,J as h,E as x,A as k,C as b,r as w,K as v,c as C,b as A,L as P,j as z,h as S}from"./index-DrDFWzXK.js";import{o as I,l as R}from"./orders.DJuNOKoI.js";const j=k(e({__name:"index",props:{islot:{type:Boolean,default:!1},list:{default:[]},ToPath:{default:""},title:{default:"我是标题"},ismore:{type:Boolean,default:!0},nextPage:{default:""}},emits:{},setup(e,{emit:k}){const b=k;return(e,k)=>{const w=r,v=a(s("up-icon"),t),C=a(s("up-image"),l);return n(),o(w,{class:"myorder"},{default:c(()=>[d(w,{class:"myorder_head"},{default:c(()=>[d(w,{class:"bold"},{default:c(()=>[u(_(e.title),1)]),_:1}),e.ismore?(n(),o(w,{key:0,class:"flex",onClick:k[0]||(k[0]=a=>{var t;(t=e.nextPage)&&g({url:t})})},{default:c(()=>[u(" 更多 "),d(v,{name:"arrow-right",color:"#919191",size:"13"})]),_:1})):i("",!0)]),_:1}),d(w,{class:"myorder_items"},{default:c(()=>[e.islot?m(e.$slots,"default",{key:1},void 0,!0):(n(!0),f(y,{key:0},p(e.list,(e,a)=>(n(),o(w,{class:"myorder_list",key:a,onClick:a=>function(e){b("change",e);const a=e&&e.path;if(!a)return;/^https?:\/\//i.test(a)?h({title:"提示",content:"即将打开外部链接，是否继续？",success(e){e.confirm&&("undefined"!=typeof window?window.open(a,"_blank"):x({title:"当前环境暂不支持打开外部链接",icon:"none"}))}}):g({url:a})}(e)},{default:c(()=>[d(w,{class:"flexconter"},{default:c(()=>[d(C,{src:e.img,mode:"aspectFit",height:"40rpx","lazy-load":!0,width:"40rpx"},null,8,["src"]),e.value?(n(),o(w,{key:0,class:"myorder_list_top"},{default:c(()=>[u(_(e.value),1)]),_:2},1024)):i("",!0)]),_:2},1024),d(w,{class:"ynase"},{default:c(()=>[u(_(e.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:3})]),_:3})}}}),[["__scopeId","data-v-9ed71d29"]]),B=k(e({__name:"index",props:{order:{}},emits:["click"],setup(e,{emit:t}){const l=e,i=t,f=()=>{i("click",l.order)};return(e,t)=>{const l=r,i=a(s("up-button"),b);return n(),o(l,{class:"order_item",onClick:f},{default:c(()=>[d(l,{class:"order_header"},{default:c(()=>[d(l,{class:"order_code"},{default:c(()=>[u("订单编号："+_(e.order.code),1)]),_:1}),d(l,{class:"order_date"},{default:c(()=>[u("账期："+_(e.order.nextDueDate),1)]),_:1})]),_:1}),d(l,{class:"order_content"},{default:c(()=>[d(l,{class:"order_info"},{default:c(()=>[d(l,{class:"info_tag"},{default:c(()=>[u(_(e.order.brand),1)]),_:1}),d(l,{class:"info_tag"},{default:c(()=>[u(_(e.order.model),1)]),_:1}),d(l,{class:"info_tag"},{default:c(()=>[u(_(e.order.storage),1)]),_:1})]),_:1}),d(l,{class:"order_action"},{default:c(()=>[d(i,{type:"primary",size:"small",text:e.order.needPay?"待支付":"identity"===e.order.action?"上传身份资料":"contract"===e.order.action?"上传合同":"repay"===e.order.action?"还款":"earlyRepay"===e.order.action?"提前还款":"defer"===e.order.action?"申请延期":"dailyRent"===e.order.action?"日租续用":"风控材料",customStyle:{fontSize:"24rpx",padding:"10rpx 20rpx",height:"auto"},onClick:f},null,8,["text"])]),_:1})]),_:1})]),_:1})}}}),[["__scopeId","data-v-d13bf618"]]),K="/h5/static/userApp/mallSys/settle.png",F=k(e({__name:"index",setup(e){const m=w(!1),h=v([...I]),x=C(()=>[{name:"待支付",icon:"clock",count:h.filter(e=>e.needPay).length,code:"2"},{name:"待审核",icon:"file-text",count:h.filter(e=>e.needUpload).length,code:"3"},{name:"待收货",icon:"shopping-cart",count:h.filter(e=>!e.needPay&&!e.needUpload&&"repay"!==e.action&&"earlyRepay"!==e.action).length,code:"5"},{name:"交易完成",icon:"checkmark-circle",count:h.filter(e=>"repay"===e.action||"earlyRepay"===e.action).length,code:"9"},{name:"我的售后",icon:"reload",count:h.filter(e=>"defer"===e.action||"dailyRent"===e.action).length,code:"6"}]),k=v([{name:"进入后台",img:K,path:"https://www.baidu.com"},{name:"商户入驻",img:K,path:"/pages/saleApp/home/index"},{name:"审核资料",img:K,path:"/subPage/mallSys/my/information/index"}]);function b(){g({url:"/subPage/mallSys/my/order/index?type=0"})}function F(e){}function D(e){console.log(e,"avatar")}function E(){g({url:"/subPage/mallSys/my/setup/index"})}return(e,h)=>{const w=a(s("up-image"),l),v=P,C=r,I=a(s("up-icon"),t),K=S,G=A("head-top");return n(),o(G,{loading:m.value,is_footer_mar:!1},{default:c(()=>[d(C,{class:"my_container"},{default:c(()=>[d(C,{class:"user_header"},{default:c(()=>[d(C,{class:"user_info"},{default:c(()=>[d(v,{class:"avatar-wrapper","open-type":"chooseAvatar",onChooseavatar:D},{default:c(()=>[d(w,{src:"https://doc-fd.zol-img.com.cn/t_s2000x2000/g7/M00/02/04/ChMkLGYh-V6IfKVlAAK_hwBPBrwAAdKJQHIOOEAAr-f792.jpg",radius:"50%",height:"120rpx","lazy-load":!0,width:"120rpx"})]),_:1}),d(C,{class:"user_details"},{default:c(()=>[d(C,{class:"user_score"},{default:c(()=>[u("345")]),_:1}),d(C,{class:"user_welcome"},{default:c(()=>[u("欢迎回来")]),_:1})]),_:1})]),_:1}),d(C,{class:"settings-icon",onClick:E},{default:c(()=>[d(I,{name:"setting",color:"#fff",size:"24"})]),_:1})]),_:1}),d(C,{class:"account_analysis"},{default:c(()=>[d(C,{class:"analysis_title"},{default:c(()=>[u("个人账单分析")]),_:1}),d(C,{class:"analysis_stats"},{default:c(()=>[d(C,{class:"stat_item"},{default:c(()=>[d(C,{class:"stat_label"},{default:c(()=>[u("已还期数")]),_:1}),d(C,{class:"stat_value"},{default:c(()=>[u("33 期")]),_:1})]),_:1}),d(C,{class:"stat_item"},{default:c(()=>[d(C,{class:"stat_label"},{default:c(()=>[u("待还期数")]),_:1}),d(C,{class:"stat_value"},{default:c(()=>[u("0 期")]),_:1})]),_:1}),d(C,{class:"stat_item"},{default:c(()=>[d(C,{class:"stat_label"},{default:c(()=>[u("违约金")]),_:1}),d(C,{class:"stat_value"},{default:c(()=>[u("¥25081.09")]),_:1})]),_:1})]),_:1})]),_:1}),d(C,{class:"my_orders_section"},{default:c(()=>[d(C,{class:"section_header"},{default:c(()=>[d(C,{class:"section_title"},{default:c(()=>[u("我的订单")]),_:1}),d(C,{class:"view_all",onClick:b},{default:c(()=>[u(" 查看全部 "),d(I,{name:"arrow-right",color:"#999",size:"14"})]),_:1})]),_:1}),d(C,{class:"order_tabs"},{default:c(()=>[(n(!0),f(y,null,p(x.value,(e,a)=>(n(),o(C,{class:"order_tab",key:a,onClick:a=>function(e){g({url:`/subPage/mallSys/my/order/index?type=${e}`})}(e.code)},{default:c(()=>[d(I,{name:e.icon,color:"#3c9cff",size:"22"},null,8,["name"]),d(C,{class:"tab_name"},{default:c(()=>[u(_(e.name),1)]),_:2},1024),e.count&&e.count>0?(n(),o(C,{key:0,class:"tab_badge"},{default:c(()=>[u(_(e.count),1)]),_:2},1024)):i("",!0)]),_:2},1032,["onClick"]))),128))]),_:1}),d(C,{class:"last_orders"},{default:c(()=>[(n(!0),f(y,null,p(z(R),(e,a)=>(n(),o(B,{key:a,order:e},null,8,["order"]))),128))]),_:1})]),_:1}),d(C,{class:"my_banner-section"},{default:c(()=>[d(C,{class:"banner-wrapper"},{default:c(()=>[d(K,{class:"banner-image",src:"/h5/static/userApp/mallSys/banner.png",mode:"widthFix"})]),_:1})]),_:1}),d(C,null,{default:c(()=>[d(j,{onChange:F,list:k,ismore:!1,title:"我的服务"},null,8,["list"])]),_:1})]),_:1})]),_:1},8,["loading"])}}}),[["__scopeId","data-v-a0cdc416"]]);export{F as default};
