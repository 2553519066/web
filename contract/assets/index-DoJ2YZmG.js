const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/form-dialog-Cy1SaBxV.js","assets/index-D-MzvSrp.js","assets/index-CCn4OCkM.css","assets/index-CGFKNQp1.js","assets/index-BEPrue_N.js","assets/error-Cq9Fpw4b.js"])))=>i.map(i=>d[i]);
import{bh as b,bi as m,d as A,r as y,ce as L,bj as T,au as M,e as D,a as B,R as i,T as V,h as E,i as z,j as u,k as d,l as w,w as n,m as P,p as l,t as H,q as I,E as W,H as G,I as J,L as _}from"./index-D-MzvSrp.js";import{E as $}from"./index-CGFKNQp1.js";const ee=o=>b.post(`${m.core}/writeForm/page`,o),K=o=>b.post(`${m.contract}/configProcesses/page`,o),te=o=>b.post(`${m.contract}/configProcesses/insert`,o),se=o=>b.post(`${m.contract}/configProcesses/update`,o),q=o=>b.post(`${m.contract}/configProcesses/batch/enDisAble`,o),R=o=>b.post(`${m.contract}/configProcesses/batch/enDisAble`,o),p="processConfigurationIndex",Q=A({name:p,__name:"index",setup(o){const s=y({add:`${p}:add`,enabled:`${p}:enabled`,disable:`${p}:disable`,edit:`${p}:edit`});L([...Object.values(s.value)]),s.value.action=T([s.value.add]),s.value.operate=T([s.value.edit,s.value.enabled,s.value.disable]);const h=y(),x=y({}),k=y({code:p,requestFunction:K,pageSize:20,searchProps:{code:`${p}Search`,options:[D({label:"流程模版名称",prop:"processName"}),D({label:"创建人",prop:"createUserName"}),B({label:"状态",prop:"configProcessesStatus",code:"status_en_lc"}),D({label:"费控模版编号",prop:"processId"}),B({label:"流程类型",prop:"configProcessesType",code:"config_processes_type"})]},tableProps:{code:`${p}Table`,showIndex:!1,showSelect:!0,autoTable:!0,columns:[{label:"费控模版编号",prop:"processId"},{label:"流程模板名称",prop:"processName"},{label:"流程类型",prop:"processPurpose",type:"config_processes_type",formatter:M},{label:"状态",prop:"status",type:"status",formatter:(t,e,a,c)=>a=="Y"?"启用":"禁用"},{label:"创建人创建时间",hSlot:"create",prop:"createUserName",align:"center",formatter:t=>i("div",[i("span",t.createUserName),i("br"),i("span",t.createTime)])},{label:"更新人更新时间",hSlot:"update",prop:"parentBankName",align:"center",formatter:t=>i("div",[i("span",t.updateUserName),i("br"),i("span",t.updateTime)])}]}});s.value.operate&&k.value.tableProps.columns.push({label:"操作",prop:"operate",fixed:"right",width:100,slot:"operate"});const f=y([]),C=V(()=>({test:f.value.length==0})),v=()=>{h.value.refresh()},Y=()=>{h.value.search()},N=t=>{let e={};t&&(e={id:t.id,configProcessesType:t.processPurpose,processId:t.processId,processName:t.processName,configProcessesStatus:t.status}),G({body:()=>J(()=>import("./form-dialog-Cy1SaBxV.js"),__vite__mapDeps([0,1,2,3,4,5])),bodyData:{initData:e||{}},isReject:!0}).then(()=>{t?v():Y()})},j=(t,e)=>{const a=t.status!=="Y"?"启用":"禁用";$.confirm(`确定${a}吗？`,"提示",{type:"warning"}).then(()=>{t.status=="Y"?R({ids:[t.id],status:"N"}).then(()=>{_.success(`${a}成功`),v()}):q({ids:[t.id],status:"Y"}).then(()=>{_.success(`${a}成功`),v()})})},F=({event:t,done:e})=>{$.confirm("确定启用吗？","提示",{type:"warning"}).then(()=>{const a=f.value.map(c=>c.id);q({ids:a,status:"Y"}).then(()=>{e(),_.success("启用成功"),v()})}).catch(()=>{e()})},U=({event:t,done:e})=>{$.confirm("确定禁用吗？","提示",{type:"warning"}).then(()=>{const a=f.value.map(c=>c.id);R({ids:a,status:"N"}).then(()=>{e(),_.success("禁用成功"),v()})}).catch(()=>{e()})};return(t,e)=>{const a=E("FsButton"),c=E("complex-page"),g=z("per");return d(),u(c,W({ref_key:"pageRef",ref:h,searchData:x.value,"onUpdate:searchData":e[1]||(e[1]=r=>x.value=r),"select-list":f.value,"onUpdate:selectList":e[2]||(e[2]=r=>f.value=r)},k.value),w({create:n(()=>[e[3]||(e[3]=l(" 创建人")),e[4]||(e[4]=I("br",null,null,-1)),e[5]||(e[5]=l("创建时间 "))]),update:n(()=>[e[6]||(e[6]=l(" 更新人")),e[7]||(e[7]=I("br",null,null,-1)),e[8]||(e[8]=l("更新时间 "))]),_:2},[s.value.action?{name:"action",fn:n(({queryData:r})=>[P((d(),u(a,{"show-loading":!1,type:"primary",onClick:e[0]||(e[0]=S=>N())},{default:n(()=>e[9]||(e[9]=[l("新增")])),_:1,__:[9]})),[[g,s.value.add]]),P((d(),u(a,{type:"primary",onClick:F,disabled:C.value.test},{default:n(()=>e[10]||(e[10]=[l("启用")])),_:1,__:[10]},8,["disabled"])),[[g,s.value.enabled]]),P((d(),u(a,{type:"primary",onClick:U,disabled:C.value.test},{default:n(()=>e[11]||(e[11]=[l("禁用")])),_:1,__:[11]},8,["disabled"])),[[g,s.value.disable]])]),key:"0"}:void 0,s.value.operate?{name:"operate",fn:n(({row:r,$index:S})=>[P((d(),u(a,{"show-loading":!1,link:"",type:"primary",onClick:O=>N(r)},{default:n(()=>e[12]||(e[12]=[l("编辑")])),_:2,__:[12]},1032,["onClick"])),[[g,s.value.edit]]),P((d(),u(a,{"show-loading":!1,link:"",type:"primary",onClick:O=>j(r,S)},{default:n(()=>[l(H(r.status!=="Y"?"启用":"禁用"),1)]),_:2},1032,["onClick"])),[[g,r.status!=="Y"?s.value.enabled:s.value.disable]])]),key:"1"}:void 0]),1040,["searchData","select-list"])}}}),ae=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{ae as a,te as i,ee as q,se as u};
