import{d as y,ap as f,aq as D,T as v,ar as q,r as B,h as u,j as C,k as A,w as n,A as o,v as r,dL as L,dM as U,L as j}from"./index-B0EZE7ii.js";const N=y({__name:"form-dialog",props:f({initData:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:f(["success"],["update:modelValue"]),setup(s,{emit:g}){const i=s,b=g,m=D(s,"modelValue"),d=v(()=>!i.initData.code),V=v(()=>d.value?"新增一级分类":"编辑一级分类"),{formData:l,formRef:_,requestSave:x}=q(i,{typeLabel:"银行信息",convert(a){return a}}),h={name:[{required:!0,message:"请输入一级类型",trigger:"blur"}],code:[{required:!0,message:"请输入类型编码",trigger:"blur"},{pattern:/^[A-Za-z0-9\p{P}]+$/u,message:"只能输入英文、数字和符号",trigger:"blur"}]};B([{value:l.value.parentId,label:l.value.parentBankName}]);const w=a=>{x(d.value?L:U,e=>d.value?e:{name:e.name,code:e.code,id:e.id}).then(e=>{j.success("保存成功"),b("success",e),a.value=!1,m.value=!1}).catch(()=>{a.value=!1})};return(a,e)=>{const c=u("el-input"),p=u("el-form-item"),M=u("el-form"),k=u("complex-dialog");return A(),C(k,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=t=>m.value=t),width:"600px",title:V.value,onSubmit:w},{default:n(()=>[o(M,{ref_key:"formRef",ref:_,class:"radius-box",model:r(l),"label-width":"130px",rules:h,style:{padding:"12px"}},{default:n(()=>[o(p,{label:"一级类型",prop:"name"},{default:n(()=>[o(c,{placeholder:"请输入一级类型",maxlength:50,"show-word-limit":"",clearable:"",modelValue:r(l).name,"onUpdate:modelValue":e[0]||(e[0]=t=>r(l).name=t),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),o(p,{label:"类型编码",prop:"code"},{default:n(()=>[o(c,{placeholder:"请输入类型编码",disabled:!d.value&&!(s.initData.pcode==="0"&&!s.initData.hasChild),maxlength:50,"show-word-limit":"",clearable:"",modelValue:r(l).code,"onUpdate:modelValue":e[1]||(e[1]=t=>r(l).code=t),modelModifiers:{trim:!0}},null,8,["disabled","modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}});export{N as default};
