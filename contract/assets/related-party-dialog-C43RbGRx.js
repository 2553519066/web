import{d as y,ap as c,aq as b,r as d,o as x,bn as V,h as g,j as C,k as I,w as N,q as _,A as w,v as h,cN as M,au as u,L as B}from"./index-BbO6UiJA.js";const L={class:"radius-box",style:{padding:"12px"}},k=y({__name:"related-party-dialog",props:c({contractInfo:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:c(["success"],["update:modelValue"]),setup(l,{emit:p}){const i=l,m=p,s=b(l,"modelValue"),n=d([]),f=[{label:"签约方名称",prop:"partyName"},{label:"签约方地位",prop:"contractParty",type:"party_type",formatter:u},{label:"签约方归属",prop:"our",type:"party_belong",formatter:u}],o=d([]),v=a=>{if(o.value.length===0)return a.value=!1,B.warning("请选择签约方");m("success",o.value.map(e=>{const{id:r,...t}=e;return t.participants="INITIATOR_SELECTION",t})),a.value=!1,s.value=!1};return x(async()=>{const{partyList:a}=await V(i.contractInfo.contractCode);n.value=a}),(a,e)=>{const r=g("complex-dialog");return I(),C(r,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),width:"600px",title:`关联合同：${l.contractInfo.contractName}`,onSubmit:v},{default:N(()=>[_("div",L,[w(h(M),{"select-list":o.value,"onUpdate:selectList":e[0]||(e[0]=t=>o.value=t),"auto-table":"","show-select":"",data:n.value,columns:f,"max-height":"400px"},null,8,["select-list","data"])])]),_:1},8,["modelValue","title"])}}});export{k as default};
