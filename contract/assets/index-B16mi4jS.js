const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/form-dialog-uB8kjj4m.js","assets/index-Cyvvb__l.js","assets/index-CCn4OCkM.css","assets/priorApplicationForContract-Dl40Yo1d.js"])))=>i.map(i=>d[i]);
import{d as R,r,e as n,a as h,b as S,T as q,h as d,i as w,j as u,k as m,w as o,m as D,p as f,A as F,t as U,q as B,E,H as V,I as L,L as j}from"./index-Cyvvb__l.js";import{q as z,e as x}from"./priorApplicationForContract-Dl40Yo1d.js";import{o as O}from"./index-i7ixLZTb.js";const l="processConfiguration",K=R({name:l,__name:"index",setup(H){const g=r({derived:"priorApplicationForContractIndex:derived",signed:"priorApplicationForContractIndex:signed"}),p=r(),c=r({}),v=r(0),I=r({code:l,requestFunction:z,afterRequest:(t,e)=>{console.log(e),v.value=e},pageSize:20,searchProps:{code:`${l}Search`,options:[n({label:"供应商",prop:"contractPartyName"}),n({label:"单据编号",prop:"processInstanceId"}),h({label:"流程单据状态",prop:"processInstanceStatus",code:"process_instance_status",multiple:!0,collapseTags:!0}),S({label:"申请日期",prop:"",sf:"startTime",ef:"endTime"}),n({label:"申请人",prop:"createUserApplyName"}),n({label:"申请人部门",prop:"createUserDepartmentName"}),h({label:"合同类型",prop:"contractType",code:"contract_type",multiple:!0,collapseTags:!0})]},tableProps:{code:`${l}Table`,showIndex:!1,showSelect:!0,autoTable:!0,columns:[{label:"流程单据编号",prop:"processInstanceId",slot:"processInstanceIdDom"},{label:"流程标题",prop:"processInstanceTitle"},{label:"申请人",prop:"createUserApplyName"},{label:"申请人部门",prop:"createUserDepartmentName"},{label:"申请日期",prop:"applyTime"},{label:"合同类型",prop:"contractType"},{label:"流程单据状态",prop:"processInstanceStatus"}]}});I.value.tableProps.columns.push({label:"操作",prop:"operate",fixed:"right",width:100,slot:"operate"});const i=r([]);q(()=>({test:i.value.length==0}));const C=()=>{p.value.refresh()},k=()=>{p.value.search()},T=t=>{let e={};t&&(e={processInstanceId:t.processInstanceId}),V({body:()=>L(()=>import("./form-dialog-uB8kjj4m.js"),__vite__mapDeps([0,1,2,3])),bodyData:{initData:e||{}},isReject:!0}).then(()=>{t?C():k()})},P=t=>{if(console.log(t),t.length>0){let e=t.map(s=>s.id);x({idList:e}).then(s=>{console.log(s)})}else v.value>=1e3?j({type:"error",message:"数据量超过1000不允许导出，请筛选导出"}):x(c.value).then(e=>{console.log(e)})},A=t=>{O({flowId:t.processInstanceId})};return(t,e)=>{const s=d("FsButton"),$=d("el-link"),N=d("complex-page"),_=w("per");return m(),u(N,E({ref_key:"pageRef",ref:p,searchData:c.value,"onUpdate:searchData":e[0]||(e[0]=a=>c.value=a),"select-list":i.value,"onUpdate:selectList":e[1]||(e[1]=a=>i.value=a)},I.value),{action:o(({queryData:a})=>e[2]||(e[2]=[B("div",null,null,-1)])),actionRight:o(({selectList:a,queryData:y})=>[D((m(),u(s,{"show-loading":!1,type:"primary",onClick:b=>P(a)},{default:o(()=>e[3]||(e[3]=[f(" 导出 ")])),_:2,__:[3]},1032,["onClick"])),[[_,g.value.derived]])]),processInstanceIdDom:o(({row:a,$index:y})=>[F($,{style:{"font-size":"12px"},underline:!1,onClick:b=>A(a),type:"primary"},{default:o(()=>[f(U(a.processInstanceId),1)]),_:2},1032,["onClick"])]),operate:o(({row:a,$index:y})=>[D((m(),u(s,{"show-loading":!1,link:"",type:"primary",onClick:b=>T(a)},{default:o(()=>e[4]||(e[4]=[f(" 签署详情 ")])),_:2,__:[4]},1032,["onClick"])),[[_,g.value.signed]])]),_:1},16,["searchData","select-list"])}}});export{K as default};
