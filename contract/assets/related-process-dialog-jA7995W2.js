import{d as $,ap as V,aq as A,r as _,aS as I,h as s,i as M,j as h,k as p,w as a,m as S,q as z,y,F,z as j,A as l,Q as E}from"./index-CeQ2E0rp.js";const K={class:"config-list"},Q="ContractList",G=$({name:Q,__name:"related-process-dialog",props:V({rowKey:{type:String,default:"processInstanceId"},contractRelateProcessList:{type:Array,default:()=>[{processName:"",processCode:""}]}},{modelValue:{},modelModifiers:{}}),emits:V(["success"],["update:modelValue"]),setup(f,{emit:w}){const n=f,N=w,d=A(f,"modelValue"),b=_(!1);_();const e=_([...n.contractRelateProcessList]);n.contractRelateProcessList&&n.contractRelateProcessList.length>0?e.value=[...n.contractRelateProcessList]:e.value=[{processName:"",processCode:""}];const k=t=>{let c={processName:"",processCode:""};e.value.splice(t+1,0,c)},P=t=>{e.value.splice(t,1)},u={processName:[{required:!0,message:"请填写流程名称"}],processCode:[{required:!0,message:"请填写流程编号"}]},v=I(),R=async t=>{try{await v.value.validate(),N("success",[...e.value]),t.value=!1,d.value=!1}catch{t.value=!1}};return(t,c)=>{const g=s("el-input"),m=s("el-form-item"),x=s("Plus"),C=s("el-icon"),D=s("Delete"),L=s("el-space"),U=s("el-form"),q=s("complex-dialog"),B=M("loading");return p(),h(q,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=i=>d.value=i),width:"900px",title:"添加关联流程",onSubmit:R},{default:a(()=>[S((p(),h(U,{ref_key:"formRef",ref:v,model:e.value,"label-wdith":"80px","label-position":"top",inline:"",rules:u,class:"radius-box",style:{padding:"12px 40px"}},{default:a(()=>[z("div",K,[(p(!0),y(F,null,j(e.value,(i,o)=>(p(),y("div",{class:"config-box",key:i._id},[l(m,{label:o===0?"流程名称":"",prop:`${o}.processName`,rules:u.processName},{default:a(()=>[l(g,{style:{width:"300px"},modelValue:e.value[o].processName,"onUpdate:modelValue":r=>e.value[o].processName=r,placeholder:"请输入流程名称",maxlength:"30"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","prop","rules"]),l(m,{label:o===0?"流程编号":"",prop:`${o}.processCode`,rules:u.processCode},{default:a(()=>[l(g,{style:{width:"300px"},modelValue:e.value[o].processCode,"onUpdate:modelValue":r=>e.value[o].processCode=r,placeholder:"请输入流程编号",maxlength:"30"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","prop","rules"]),l(m,{class:"config-form-item","label-width":"0"},{default:a(()=>[l(L,{size:16},{default:a(()=>[l(C,{class:"config-icon",onClick:r=>k(o)},{default:a(()=>[l(x)]),_:2},1032,["onClick"]),l(C,{class:"config-icon",onClick:r=>P(o)},{default:a(()=>[l(D)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])]),_:1},8,["model"])),[[B,b.value]])]),_:1},8,["modelValue"])}}}),J=E(G,[["__scopeId","data-v-3204735c"]]);export{J as default};
