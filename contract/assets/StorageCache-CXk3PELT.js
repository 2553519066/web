class o{constructor(t,e){this.storage=t,this.maxAge=e||0}setData(t,e,a){const s={maxAge:a||this.maxAge,data:e,now:Math.ceil(Date.now()/1e3)};this.storage.setItem(t,JSON.stringify(s))}getData(t){const e=this.storage.getItem(t);if(!e)return null;const a=JSON.parse(e),s=a.maxAge!=0&&Math.ceil(Date.now()/1e3-a.now)>a.maxAge;return s&&this.removeData(t),s?null:a.data}removeData(t){this.storage.removeItem(t)}getAndRemoveData(t){let e=this.getData(t);return this.removeData(t),e}clear(){this.storage.clear()}}class r extends o{constructor(){super(localStorage)}static getInstance(){return this.storage||(this.storage=new r),this.storage}}export{r as L};
