import{a0 as D,cm as ee,Z as W,ck as Q,$ as Z,r as T,ac as Ve,T as C,c$ as J,a3 as A,d as F,a5 as U,y as E,k as y,q as B,m as M,d0 as ae,v as e,c7 as z,aa as k,bD as oe,a9 as q,p as I,t as $,ag as te,D as ke,o as Se,a7 as Te,a4 as Be,a8 as Re,a6 as le,ao as se,an as Le,ap as X,u as Ee,aq as Fe,ar as Ie,d1 as xe,bB as we,h as S,i as Ne,j as w,w as p,A as f,B as N,E as $e,aw as ze,F as De,z as Pe,aL as Ge,N as Ae,G as Ue,d2 as Me,Q as qe}from"./index-BbO6UiJA.js";import{L as Ke}from"./StorageCache-CXk3PELT.js";import{C as K,U as H,u as He,d as Oe,h as je,c as We,b as Qe,e as Ze,g as Je}from"./index-G1vWk1G8.js";import{d as Xe}from"./error-Cq9Fpw4b.js";const ne=D({modelValue:{type:[String,Number,Boolean],default:void 0},size:ee,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),Ye=D({...ne,border:Boolean}),ie={[H]:s=>W(s)||Q(s)||Z(s),[K]:s=>W(s)||Q(s)||Z(s)},re=Symbol("radioGroupKey"),de=(s,g)=>{const n=T(),o=Ve(re,void 0),c=C(()=>!!o),b=C(()=>J(s.value)?s.label:s.value),a=C({get(){return c.value?o.modelValue:s.modelValue},set(i){c.value?o.changeEvent(i):g&&g(H,i),n.value.checked=s.modelValue===b.value}}),m=He(C(()=>o==null?void 0:o.size)),l=Oe(C(()=>o==null?void 0:o.disabled)),d=T(!1),_=C(()=>l.value||c.value&&a.value!==b.value?-1:0);return je({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},C(()=>c.value&&J(s.value))),{radioRef:n,isGroup:c,radioGroup:o,focus:d,size:m,disabled:l,tabIndex:_,modelValue:a,actualValue:b}},ea=F({name:"ElRadio"}),aa=F({...ea,props:Ye,emits:ie,setup(s,{emit:g}){const n=s,o=U("radio"),{radioRef:c,radioGroup:b,focus:a,size:m,disabled:l,modelValue:d,actualValue:_}=de(n,g);function i(){te(()=>g(K,d.value))}return(h,R)=>{var V;return y(),E("label",{class:k([e(o).b(),e(o).is("disabled",e(l)),e(o).is("focus",e(a)),e(o).is("bordered",h.border),e(o).is("checked",e(d)===e(_)),e(o).m(e(m))])},[B("span",{class:k([e(o).e("input"),e(o).is("disabled",e(l)),e(o).is("checked",e(d)===e(_))])},[M(B("input",{ref_key:"radioRef",ref:c,"onUpdate:modelValue":L=>oe(d)?d.value=L:null,class:k(e(o).e("original")),value:e(_),name:h.name||((V=e(b))==null?void 0:V.name),disabled:e(l),checked:e(d)===e(_),type:"radio",onFocus:L=>a.value=!0,onBlur:L=>a.value=!1,onChange:i,onClick:z(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[ae,e(d)]]),B("span",{class:k(e(o).e("inner"))},null,2)],2),B("span",{class:k(e(o).e("label")),onKeydown:z(()=>{},["stop"])},[q(h.$slots,"default",{},()=>[I($(h.label),1)])],42,["onKeydown"])],2)}}});var oa=A(aa,[["__file","radio.vue"]]);const ta=D({...ne}),la=F({name:"ElRadioButton"}),sa=F({...la,props:ta,setup(s){const g=s,n=U("radio"),{radioRef:o,focus:c,size:b,disabled:a,modelValue:m,radioGroup:l,actualValue:d}=de(g),_=C(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(i,h)=>{var R;return y(),E("label",{class:k([e(n).b("button"),e(n).is("active",e(m)===e(d)),e(n).is("disabled",e(a)),e(n).is("focus",e(c)),e(n).bm("button",e(b))])},[M(B("input",{ref_key:"radioRef",ref:o,"onUpdate:modelValue":V=>oe(m)?m.value=V:null,class:k(e(n).be("button","original-radio")),value:e(d),type:"radio",name:i.name||((R=e(l))==null?void 0:R.name),disabled:e(a),onFocus:V=>c.value=!0,onBlur:V=>c.value=!1,onClick:z(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[ae,e(m)]]),B("span",{class:k(e(n).be("button","inner")),style:ke(e(m)===e(d)?e(_):{}),onKeydown:z(()=>{},["stop"])},[q(i.$slots,"default",{},()=>[I($(i.label),1)])],46,["onKeydown"])],2)}}});var ue=A(sa,[["__file","radio-button.vue"]]);const na=D({id:{type:String,default:void 0},size:ee,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...We(["ariaLabel"])}),ia=ie,ra=F({name:"ElRadioGroup"}),da=F({...ra,props:na,emits:ia,setup(s,{emit:g}){const n=s,o=U("radio"),c=Qe(),b=T(),{formItem:a}=Ze(),{inputId:m,isLabeledByFormItem:l}=Je(n,{formItemContext:a}),d=i=>{g(H,i),te(()=>g(K,i))};Se(()=>{const i=b.value.querySelectorAll("[type=radio]"),h=i[0];!Array.from(i).some(R=>R.checked)&&h&&(h.tabIndex=0)});const _=C(()=>n.name||c.value);return Te(re,Be({...Re(n),changeEvent:d,name:_})),le(()=>n.modelValue,()=>{n.validateEvent&&(a==null||a.validate("change").catch(i=>Xe()))}),(i,h)=>(y(),E("div",{id:e(m),ref_key:"radioGroupRef",ref:b,class:k(e(o).b("group")),role:"radiogroup","aria-label":e(l)?void 0:i.ariaLabel||"radio-group","aria-labelledby":e(l)?e(a).labelId:void 0},[q(i.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var ce=A(da,[["__file","radio-group.vue"]]);Le(oa,{RadioButton:ue,RadioGroup:ce});const ua=se(ce),Y=se(ue),ca={style:{width:"100%"}},pa=["onClick"],ma={class:"single-name"},fa={class:"single-desc"},va={key:0,style:{display:"flex","justify-content":"center","align-items":"center",width:"100%","font-size":"14px"}},ba=F({__name:"add-dialog",props:X({initData:{type:Object,default:()=>({})}},{modelValue:{},modelModifiers:{}}),emits:X(["success"],["update:modelValue"]),setup(s,{emit:g}){const n=s;Ee();const o=Fe(s,"modelValue"),c=C(()=>!n.initData.code),b=C(()=>(c.value,"新增合同")),{formData:a,formRef:m}=Ie(n,{typeLabel:"合同信息",convert(r){return r.businessCodeList=[],r}}),l=T([]),d={businessCodeList:[{type:"array",required:!0,message:"请选择业务类型"}],bodyFilePathSet:[{type:"array",required:!0,message:"请上传已有合同"}],contractTemplate:[{required:!0,message:"请选择合同模版"}]};le(()=>a.value.businessCodeList,(r,t)=>{L.value=null,a.value.contractTemplate="",r.length===2&&(V.value=!0,xe({businessTypeFirst:r[0],businessTypeSecond:r[1]}).then(v=>{l.value=v}).finally(()=>{V.value=!1}))}),T([{value:a.value.parentId,label:a.value.parentBankName}]);const{businessTypeRef:_,businessTypeCascaderProps:i,onBusinessTypeChange:h}=we(a,!0),R=async r=>{try{const t=await m.value.validate(),v=Ae();Ke.getInstance().setData(v,{cacheCode:v,...e(a.value),templateId:a.value.contractTemplate}),Ue({name:"ContractCreate",params:{cacheCode:v}}),r.value=!1,o.value=!1}catch{return}finally{r.value=!1}},V=T(!1),L=T(null),pe=(r,t)=>{L.value=r,a.value.contractTemplate=t.id,a.value.nameModify=t.nameModify,a.value[Me.NAME]=t.templateContractName},O=T(null),P=T(!1),me=()=>{const r=O.value;if(P.value&&r){const t=r.scrollTop,v=r.scrollHeight,G=r.clientHeight;t+G>=v-20&&(P.value=!0,console.log("下拉加载"))}},fe=r=>{a.value.isContract=!1,a.value.bodyFilePathSet=[]};return(r,t)=>{const v=S("el-form-item"),G=S("el-text"),ve=S("el-cascader"),be=S("el-checkbox"),_e=S("el-empty"),j=S("el-tooltip"),ye=S("el-icon"),ge=S("el-form"),he=S("complex-dialog"),Ce=Ne("loading");return y(),w(he,{class:"add-contract",modelValue:o.value,"onUpdate:modelValue":t[4]||(t[4]=u=>o.value=u),width:"1000px",title:b.value,onSubmit:R},{default:p(()=>[f(ge,{ref_key:"formRef",ref:m,class:"radius-box","label-position":"top",model:e(a),"label-width":"130px",rules:d,style:{padding:"12px"}},{default:p(()=>[f(v,null,{default:p(()=>[f(e(ua),{modelValue:e(a).fileType,"onUpdate:modelValue":t[0]||(t[0]=u=>e(a).fileType=u),size:"default",onChange:fe},{default:p(()=>[f(e(Y),{label:"importFile",value:"importFile"},{default:p(()=>t[5]||(t[5]=[I("新建合同")])),_:1,__:[5]}),f(e(Y),{label:"add",value:"add"},{default:p(()=>t[6]||(t[6]=[I("模版新增")])),_:1,__:[6]})]),_:1},8,["modelValue"])]),_:1}),f(v,{label:"业务类型",prop:"businessCodeList"},{default:p(()=>[f(ve,$e({ref_key:"businessTypeRef",ref:_,modelValue:e(a).businessCodeList,"onUpdate:modelValue":t[1]||(t[1]=u=>e(a).businessCodeList=u)},e(i),{onChange:e(h),style:{width:"100%"}}),{default:p(({node:u,data:x})=>[f(G,{class:"cascader-item",truncated:""},{default:p(()=>[I($(x.name),1)]),_:2},1024)]),_:1},16,["modelValue","onChange"])]),_:1}),e(a).fileType=="importFile"?(y(),w(v,{key:0,label:"已有合同文本",style:{display:"flex","align-items":"center","margin-bottom":"0"}},{default:p(()=>[f(be,{modelValue:e(a).isContract,"onUpdate:modelValue":t[2]||(t[2]=u=>e(a).isContract=u),style:{"margin-bottom":"8px"}},null,8,["modelValue"])]),_:1})):N("",!0),e(a).isContract?(y(),w(v,{key:1,label:"","label-width":"0",prop:"bodyFilePathSet"},{default:p(()=>[f(e(ze),{modelValue:e(a).bodyFilePathSet,"onUpdate:modelValue":t[3]||(t[3]=u=>e(a).bodyFilePathSet=u),accept:".docx,.doc,.pdf",size:50,limit:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1})):N("",!0),e(a).fileType=="add"||e(a).fileType=="导入合同"?(y(),w(v,{key:2,label:"选择合同模版",prop:"contractTemplate"},{default:p(()=>[B("div",ca,[l.value.length?N("",!0):(y(),w(_e,{key:0,"image-size":200,description:e(a).businessCodeList.length?"暂无数据":"请选择业务类型"},null,8,["description"]))]),M((y(),E("div",{class:"contract-list",ref_key:"contractAddListRef",ref:O,onScroll:me},[(y(!0),E(De,null,Pe(l.value,(u,x)=>(y(),E("div",{class:k(["contract-single",{"contract-single--selected":L.value===x}]),key:x,onClick:_a=>pe(x,u)},[f(j,{effect:"dark",content:u.name,placement:"top"},{default:p(()=>[B("div",ma,$(u.name),1)]),_:2},1032,["content"]),f(j,{effect:"dark",content:u.remark,placement:"top"},{default:p(()=>[B("div",fa,"合同描述："+$(u.remark),1)]),_:2},1032,["content"])],10,pa))),128)),P.value?(y(),E("div",va,[f(ye,{size:14,class:"is-loading"},{default:p(()=>[f(e(Ge))]),_:1}),t[7]||(t[7]=I(" 加载中... "))])):N("",!0)],32)),[[Ce,V.value]])]),_:1})):N("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"])}}}),Va=qe(ba,[["__scopeId","data-v-9a7d6e0f"]]);export{Va as default};
