import{bh as h,bi as y,d as V,r as d,bj as $,e as B,a as E,h as m,i as F,j as _,k as n,l as R,w as v,m as f,p as k,y as c,F as U,z,q as t,t as p,v as L,x as Y,A as j,E as A,G as D,Q as O}from"./index-D-MzvSrp.js";const G=l=>h.post(`${y.contract}/contractTemplate/page`,l),Q=l=>h.post(`${y.contract}/contractTemplate/disable/${l.id}`,l),W=l=>h.post(`${y.contract}/contractTemplate/enable/${l.id}`,l),H={key:0,class:"table-dom"},J={class:"td-list"},K=["onClick"],M=["title"],X={class:"td-bj"},Z={class:"td-lb"},ee={class:"td-lb-d"},te={class:"td-lb-value"},se={class:"td-lb-d"},ae={class:"td-lb-value"},le={class:"td-lb-d"},oe={class:"td-lb-value"},ne={style:{"font-size":"13px",color:"#4e5969"}},ie={class:"td-lb-d"},re=["title"],i="ContractTemplate",de=V({name:i,__name:"index",setup(l){const o=d({add:`${i}:add`,edit:`${i}:edit`,del:`${i}:del`,enableDisable:`${i}:enableDisable`});o.value.action=$([o.value.add]),o.value.operate=$([o.value.edit]);const P=d(),g=d({}),w=d({code:i,requestFunction:G,beforeRequest:s=>{if(s.ymProp){let e=[];return s.ymProp.forEach(u=>{e.push(u[u.length-1])}),s.bussinessTypeIdList=[...e],s}},pageSize:20,searchProps:{code:`${i}Search`,options:[B({label:"模版名称",prop:"name"}),{formItemProps:{prop:"ymProp",label:"业务类型"},inputName:"YmCascader",inputProps:{clearable:!0,placeholder:"请选择业务类型",multiple:!0,filterable:!0,checkStrictly:!0}},E({label:"状态",prop:"status",code:"status_en_lc"})]},tableProps:{code:`${i}Table`,showIndex:!0,showSelect:!0,autoTable:!0,columns:[]}}),x=d([]),T=s=>{s&&s.id?D({name:"ContractTemplateEdit",params:{id:s.id}}):D({name:"ContractTemplateCreate"})},I=async s=>s.status=="Y"?(await Q({id:s.id}),!0):(await W({id:s.id}),!0);return(s,e)=>{const u=m("el-switch"),q=m("el-empty"),N=m("FsButton"),S=m("complex-page"),b=F("per");return n(),_(S,A({ref_key:"pageRef",ref:P,searchData:g.value,"onUpdate:searchData":e[1]||(e[1]=r=>g.value=r),"select-list":x.value,"onUpdate:selectList":e[2]||(e[2]=r=>x.value=r)},w.value),R({tableContent:v(({data:r})=>[r.length?(n(),c("div",H,[(n(!0),c(U,null,z(r,(a,pe)=>(n(),c("div",J,[t("div",{class:"td-tit",onClick:C=>T(a)},[t("div",{class:"td-title",title:a.name},p(a.name),9,M),f((n(),c("div",X,e[3]||(e[3]=[k("编辑")]))),[[b,o.value.edit]])],8,K),t("div",Z,[t("div",ee,[e[4]||(e[4]=t("div",{class:"td-lb-label"},"创建时间",-1)),t("div",te,p(L(Y)(a.createTime)),1)]),t("div",se,[e[5]||(e[5]=t("div",{class:"td-lb-label"},"创建人",-1)),t("div",ae,p(a.createUserName),1)]),f((n(),c("div",le,[e[6]||(e[6]=t("div",{class:"td-lb-label"},"状态",-1)),t("div",oe,[j(u,{style:{"margin-top":"-3px","margin-right":"5px"},size:"small",modelValue:a.status,"onUpdate:modelValue":C=>a.status=C,"active-value":"Y","inactive-value":"N","before-change":()=>I(a)},null,8,["modelValue","onUpdate:modelValue","before-change"]),t("span",ne,p(a.status=="Y"?"启用":"禁用"),1)])])),[[b,o.value.enableDisable]]),t("div",ie,[e[7]||(e[7]=t("div",{class:"td-lb-label"},"关联业务类型",-1)),t("div",{class:"td-lb-value",title:a.businessTypeInfo},p(a.businessTypeInfo),9,re)])])]))),256))])):(n(),_(q,{key:1,class:"table-empty",description:"暂无数据"}))]),_:2},[o.value.action?{name:"action",fn:v(({queryData:r})=>[f((n(),_(N,{"show-loading":!1,type:"primary",onClick:e[0]||(e[0]=a=>T())},{default:v(()=>e[8]||(e[8]=[k("新建模板")])),_:1,__:[8]})),[[b,o.value.add]])]),key:"0"}:void 0]),1040,["searchData","select-list"])}}}),me=O(de,[["__scopeId","data-v-28961994"]]);export{me as default};
