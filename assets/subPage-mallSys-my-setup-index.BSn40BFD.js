import{d as e,r as l,b as a,a0 as o,e as s,c as t,o as n,w as i,f as u,i as d,n as c,I as r,p as m,m as p,t as v,A as _,u as f,a1 as w,a2 as b,y as C,D as x,a3 as P,s as k}from"./index-GbXCx2Zj.js";import{U as y,P as V}from"./PrivacyPolicy.BhQ3f-3L.js";import{R as g}from"./RentAgreement.C3zedTM7.js";const h=f(e({__name:"SetPasswordModal",props:{visible:{type:Boolean}},emits:["close","confirm"],setup(e,{emit:f}){const w=f,b=l({email:"",code:"",newPassword:"",confirmPassword:""}),C=l(0);function x(e){return/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(e)}function P(){C.value>0||(b.value.email?x(b.value.email)?(_({title:"验证码已发送",icon:"none"}),function(){C.value=60;const e=setInterval(()=>{C.value-=1,C.value<=0&&clearInterval(e)},1e3)}()):_({title:"请输入正确的邮箱格式",icon:"none"}):_({title:"请输入邮箱",icon:"none"}))}function k(){const e=b.value;var l;e.email?x(e.email)?e.code?e.newPassword?(l=e.newPassword,/^(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]).{8,25}$/.test(l)?e.confirmPassword?e.newPassword===e.confirmPassword?w("confirm",{...e}):_({title:"两次输入的密码不一致",icon:"none"}):_({title:"请再次输入新密码",icon:"none"}):_({title:"密码格式不正确，需8~25位，含数字、字母、符号",icon:"none"})):_({title:"请输入新密码",icon:"none"}):_({title:"请输入验证码",icon:"none"}):_({title:"请输入正确的邮箱格式",icon:"none"}):_({title:"请输入邮箱",icon:"none"})}return(e,l)=>{const _=d,f=r,x=p,y=a(s("up-modal"),o);return n(),t(y,{show:e.visible,customStyle:{width:"620rpx"},showCancelButton:"",confirmColor:"#3c9cff",confirmText:"确认修改",cancelText:"取消",onConfirm:k,onCancel:l[4]||(l[4]=e=>w("close"))},{default:i(()=>[u(_,{class:"setpwd-modal"},{default:i(()=>[u(_,{class:"setpwd-modal__title"},{default:i(()=>[c("设置密码")]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:b.value.email,"onUpdate:modelValue":l[0]||(l[0]=e=>b.value.email=e),class:"setpwd-modal__input",placeholder:"请输入邮箱",type:"text"},null,8,["modelValue"])]),_:1}),u(_,{class:"setpwd-modal__item setpwd-modal__item--code"},{default:i(()=>[u(f,{modelValue:b.value.code,"onUpdate:modelValue":l[1]||(l[1]=e=>b.value.code=e),class:"setpwd-modal__input setpwd-modal__input--code",placeholder:"请输入验证码",type:"text"},null,8,["modelValue"]),u(_,{class:m(["setpwd-modal__code-btn",{"setpwd-modal__code-btn--disabled":C.value>0}]),onClick:P},{default:i(()=>[u(x,{class:"setpwd-modal__code-text"},{default:i(()=>[c(v(C.value>0?C.value+"s":"获取验证码"),1)]),_:1})]),_:1},8,["class"])]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:b.value.newPassword,"onUpdate:modelValue":l[2]||(l[2]=e=>b.value.newPassword=e),class:"setpwd-modal__input",placeholder:"请输入新密码（8~25位，含数字、字母、符号）",password:!0,type:"text"},null,8,["modelValue"])]),_:1}),u(_,{class:"setpwd-modal__item"},{default:i(()=>[u(f,{modelValue:b.value.confirmPassword,"onUpdate:modelValue":l[3]||(l[3]=e=>b.value.confirmPassword=e),class:"setpwd-modal__input",placeholder:"请再次输入新密码",password:!0,type:"text"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["show"])}}}),[["__scopeId","data-v-a532b526"]]),L=f(e({__name:"index",setup(e){const o=l("user@example.com"),r=l(!1),m=l(!1),f=l(!1),L=l(!1),S=e=>{_({title:"密码设置成功",icon:"none"}),L.value=!1},A=()=>{x({title:"提示",content:"确定要退出登录吗？",success:e=>{e.confirm&&P({url:"/pages/userApp/login/index"})}})},z=()=>{L.value=!0},I=()=>{r.value=!0},U=()=>{m.value=!0},Z=()=>{f.value=!0},j=e=>{k({url:e})};return(e,l)=>{const _=p,x=a(s("up-cell"),w),P=d,k=a(s("up-cell-group"),b),$=a(s("up-button"),C);return n(),t(P,{class:"setup"},{default:i(()=>[u(k,{border:!1},{default:i(()=>[u(x,{title:"邮箱账号",isLink:!1,arrow:!1},{value:i(()=>[u(_,{class:"user-email"},{default:i(()=>[c(v(o.value),1)]),_:1})]),_:1}),u(x,{title:"审核资料",value:"查看详情",isLink:!0,onClick:l[0]||(l[0]=e=>j("/subPage/mallSys/my/information/index"))}),u(x,{title:"基础资料",value:"查看详情",isLink:!0,onClick:l[1]||(l[1]=e=>j("/subPage/mallSys/my/setup/userProfile"))}),u(x,{title:"补充资料",value:"查看详情",isLink:!0,onClick:l[2]||(l[2]=e=>j("/subPage/mallSys/my/information/identityeExtra"))}),u(P,{class:"divider"}),u(x,{title:"设置密码",isLink:!0,titleStyle:{color:"#3c9cff"},onClick:z}),u(x,{title:"用户服务协议",isLink:!0,onClick:I}),u(x,{title:"租赁服务协议",isLink:!0,onClick:Z}),u(x,{title:"隐私协议",isLink:!0,onClick:U})]),_:1}),u(P,{class:"logout-btn-container"},{default:i(()=>[u($,{text:"退出登录",onClick:A,customStyle:{color:"#333",backgroundColor:"#fff",border:"none",height:"100rpx",fontSize:"30rpx"}})]),_:1}),u(y,{visible:r.value,onClose:l[3]||(l[3]=e=>r.value=!1),onConfirm:l[4]||(l[4]=e=>r.value=!1)},null,8,["visible"]),u(V,{visible:m.value,onClose:l[5]||(l[5]=e=>m.value=!1),onConfirm:l[6]||(l[6]=e=>m.value=!1)},null,8,["visible"]),u(g,{visible:f.value,onClose:l[7]||(l[7]=e=>f.value=!1),onConfirm:l[8]||(l[8]=e=>f.value=!1)},null,8,["visible"]),u(h,{visible:L.value,onClose:l[9]||(l[9]=e=>L.value=!1),onConfirm:S},null,8,["visible"])]),_:1})}}}),[["__scopeId","data-v-60d49e35"]]);export{L as default};
